<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iccDEV: IccProfLib/IccConvertUTF.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iccDEV<span id="projectnumber">&#160;2.2.61</span>
   </div>
   <div id="projectbrief">iccDEV Tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/ddf/a00224.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">IccConvertUTF.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">IccConvertUTF.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for IccConvertUTF.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/d98/a00225.png" border="0" usemap="#aIccProfLib_2IccConvertUTF_8cpp" alt=""/></div>
<map name="aIccProfLib_2IccConvertUTF_8cpp" id="aIccProfLib_2IccConvertUTF_8cpp">
<area shape="rect" title=" " alt="" coords="5,5,215,31"/>
<area shape="rect" href="../../d3/d00/a00113.html" title=" " alt="" coords="47,79,173,104"/>
<area shape="poly" title=" " alt="" coords="113,31,113,65,107,65,107,31"/>
<area shape="rect" href="../../d5/d16/a00029.html" title=" " alt="" coords="47,152,173,177"/>
<area shape="poly" title=" " alt="" coords="113,104,113,138,107,138,107,104"/>
<area shape="rect" title=" " alt="" coords="75,225,145,251"/>
<area shape="poly" title=" " alt="" coords="113,178,113,212,107,212,107,178"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a65e9886d74aaee76545e83dd09011727" id="r_a65e9886d74aaee76545e83dd09011727"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a65e9886d74aaee76545e83dd09011727">false</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a65e9886d74aaee76545e83dd09011727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f9c5fb8b08eb5dc3edce4dcb37fee7" id="r_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a41f9c5fb8b08eb5dc3edce4dcb37fee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5481872f1061e4e2a66849802b4b81e" id="r_ae5481872f1061e4e2a66849802b4b81e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDBFF</td></tr>
<tr class="separator:ae5481872f1061e4e2a66849802b4b81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab84eb26356a90f3b7b9ac7aca1edfe" id="r_a4ab84eb26356a90f3b7b9ac7aca1edfe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xD800</td></tr>
<tr class="separator:a4ab84eb26356a90f3b7b9ac7aca1edfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a531ffb73be79f7089049c1b84dc59" id="r_ab9a531ffb73be79f7089049c1b84dc59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDFFF</td></tr>
<tr class="separator:ab9a531ffb73be79f7089049c1b84dc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23de5862375b48afcb4e3ff7b56a274d" id="r_a23de5862375b48afcb4e3ff7b56a274d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDC00</td></tr>
<tr class="separator:a23de5862375b48afcb4e3ff7b56a274d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5eaaa8846c5a245865e23b333c411aad" id="r_a5eaaa8846c5a245865e23b333c411aad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a5eaaa8846c5a245865e23b333c411aad">icConvertUTF16toUTF32</a> (const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a5eaaa8846c5a245865e23b333c411aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ad0f41a856a026427b5471439fb604" id="r_af2ad0f41a856a026427b5471439fb604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#af2ad0f41a856a026427b5471439fb604">icConvertUTF16toUTF32</a> (const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *source, const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *sourceEnd, icUtf32Vector target, <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:af2ad0f41a856a026427b5471439fb604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9475bff9709f2bff030ab67184e39bf2" id="r_a9475bff9709f2bff030ab67184e39bf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a9475bff9709f2bff030ab67184e39bf2">icConvertUTF16toUTF8</a> (const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a9475bff9709f2bff030ab67184e39bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880ecbb5fbed03ebf5e895ed431117af" id="r_a880ecbb5fbed03ebf5e895ed431117af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a880ecbb5fbed03ebf5e895ed431117af">icConvertUTF16toUTF8</a> (const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *source, const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *sourceEnd, icUtf8Vector &amp;target, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a880ecbb5fbed03ebf5e895ed431117af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab19788fc1e2c1adad19643744bc81db" id="r_aab19788fc1e2c1adad19643744bc81db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#aab19788fc1e2c1adad19643744bc81db">icConvertUTF32toUTF16</a> (const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:aab19788fc1e2c1adad19643744bc81db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612a6af98bd1f5cf61779c9463f1a3c8" id="r_a612a6af98bd1f5cf61779c9463f1a3c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a612a6af98bd1f5cf61779c9463f1a3c8">icConvertUTF32toUTF16</a> (const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *source, const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *sourceEnd, icUtf16Vector &amp;target, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a612a6af98bd1f5cf61779c9463f1a3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b83fede8df29c19df526c70209f80d5" id="r_a4b83fede8df29c19df526c70209f80d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a4b83fede8df29c19df526c70209f80d5">icConvertUTF32toUTF8</a> (const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a4b83fede8df29c19df526c70209f80d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4bbe97c605cefbaf64bf9e4ce65d99" id="r_a8d4bbe97c605cefbaf64bf9e4ce65d99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a8d4bbe97c605cefbaf64bf9e4ce65d99">icConvertUTF32toUTF8</a> (const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *source, const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *sourceEnd, icUtf8Vector &amp;target, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a8d4bbe97c605cefbaf64bf9e4ce65d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdda5a4721eb3c925fa76a61bf20759" id="r_a7cdda5a4721eb3c925fa76a61bf20759"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a7cdda5a4721eb3c925fa76a61bf20759">icConvertUTF8toUTF16</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:a7cdda5a4721eb3c925fa76a61bf20759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9670456b509347318b577d427c2a40" id="r_aba9670456b509347318b577d427c2a40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#aba9670456b509347318b577d427c2a40">icConvertUTF8toUTF16</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *source, const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *sourceEnd, icUtf16Vector &amp;target, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:aba9670456b509347318b577d427c2a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3bb769c6b6c811049d99bf681e990e" id="r_aab3bb769c6b6c811049d99bf681e990e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#aab3bb769c6b6c811049d99bf681e990e">icConvertUTF8toUTF32</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **sourceStart, const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *sourceEnd, <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **targetStart, <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *targetEnd, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:aab3bb769c6b6c811049d99bf681e990e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40b605d931bbc9599cf52bcdd4557ee" id="r_aa40b605d931bbc9599cf52bcdd4557ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#aa40b605d931bbc9599cf52bcdd4557ee">icConvertUTF8toUTF32</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *source, const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *sourceEnd, icUtf32Vector &amp;target, <a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a> flags)</td></tr>
<tr class="separator:aa40b605d931bbc9599cf52bcdd4557ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000e02e8d4016b5346f8075851662f73" id="r_a000e02e8d4016b5346f8075851662f73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d00/a00113.html#adaac7155d04f98cee33773208b61f3f8">Boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a000e02e8d4016b5346f8075851662f73">icIsLegalUTF8Sequence</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *source, const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *sourceEnd)</td></tr>
<tr class="separator:a000e02e8d4016b5346f8075851662f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0d41e6f13988419ab99d6a14719a8c" id="r_a3a0d41e6f13988419ab99d6a14719a8c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d00/a00113.html#adaac7155d04f98cee33773208b61f3f8">Boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a> (const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *source, int length)</td></tr>
<tr class="separator:a3a0d41e6f13988419ab99d6a14719a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a84be1e52702338d8e7aaeb1c2da2b375" id="r_a84be1e52702338d8e7aaeb1c2da2b375"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a> [7] = { 0x00, 0x00, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC }</td></tr>
<tr class="separator:a84be1e52702338d8e7aaeb1c2da2b375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6fc083a9b22a0116b35c73a50b8c18" id="r_a8e6fc083a9b22a0116b35c73a50b8c18"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a> = 0x0010000UL</td></tr>
<tr class="separator:a8e6fc083a9b22a0116b35c73a50b8c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb375b25f02aaecedb92086ff2a7af3" id="r_a3eb375b25f02aaecedb92086ff2a7af3"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a> = 0x3FFUL</td></tr>
<tr class="separator:a3eb375b25f02aaecedb92086ff2a7af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9023510776bb97137517b59d39edbc3a" id="r_a9023510776bb97137517b59d39edbc3a"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a> = 10</td></tr>
<tr class="separator:a9023510776bb97137517b59d39edbc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f91e07d9adfd50e53dbbb38ba3245f" id="r_af2f91e07d9adfd50e53dbbb38ba3245f"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a> [6]</td></tr>
<tr class="separator:af2f91e07d9adfd50e53dbbb38ba3245f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2827254e79699e0e1a4ef1f510e2262a" id="r_a2827254e79699e0e1a4ef1f510e2262a"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a> [256]</td></tr>
<tr class="separator:a2827254e79699e0e1a4ef1f510e2262a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a65e9886d74aaee76545e83dd09011727" name="a65e9886d74aaee76545e83dd09011727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e9886d74aaee76545e83dd09011727">&#9670;&#160;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define false&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41f9c5fb8b08eb5dc3edce4dcb37fee7" name="a41f9c5fb8b08eb5dc3edce4dcb37fee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f9c5fb8b08eb5dc3edce4dcb37fee7">&#9670;&#160;</a></span>true</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define true&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae5481872f1061e4e2a66849802b4b81e" name="ae5481872f1061e4e2a66849802b4b81e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5481872f1061e4e2a66849802b4b81e">&#9670;&#160;</a></span>UNI_SUR_HIGH_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNI_SUR_HIGH_END&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDBFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ab84eb26356a90f3b7b9ac7aca1edfe" name="a4ab84eb26356a90f3b7b9ac7aca1edfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab84eb26356a90f3b7b9ac7aca1edfe">&#9670;&#160;</a></span>UNI_SUR_HIGH_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNI_SUR_HIGH_START&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xD800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9a531ffb73be79f7089049c1b84dc59" name="ab9a531ffb73be79f7089049c1b84dc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a531ffb73be79f7089049c1b84dc59">&#9670;&#160;</a></span>UNI_SUR_LOW_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNI_SUR_LOW_END&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23de5862375b48afcb4e3ff7b56a274d" name="a23de5862375b48afcb4e3ff7b56a274d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23de5862375b48afcb4e3ff7b56a274d">&#9670;&#160;</a></span>UNI_SUR_LOW_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNI_SUR_LOW_START&#160;&#160;&#160;(<a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0xDC00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5eaaa8846c5a245865e23b333c411aad" name="a5eaaa8846c5a245865e23b333c411aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eaaa8846c5a245865e23b333c411aad">&#9670;&#160;</a></span>icConvertUTF16toUTF32() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF16toUTF32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  149</span>{</div>
<div class="line"><span class="lineno">  150</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  151</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">  152</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">  153</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch, ch2;</div>
<div class="line"><span class="lineno">  154</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* oldSource = source; <span class="comment">/*  In case we have to back up because of target overflow. */</span></div>
<div class="line"><span class="lineno">  156</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">/* If we have a surrogate pair, convert to UTF32 first. */</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a>) {</div>
<div class="line"><span class="lineno">  159</span>      <span class="comment">/* If the 16 bits following the high surrogate are in the source buffer... */</span></div>
<div class="line"><span class="lineno">  160</span>      <span class="keywordflow">if</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  161</span>        ch2 = *source;</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">/* If it&#39;s a low surrogate, convert to UTF32. */</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">if</span> (ch2 &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch2 &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  164</span>          ch = ((ch - <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>) &lt;&lt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>)</div>
<div class="line"><span class="lineno">  165</span>            + (ch2 - <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>) + <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  166</span>          ++source;</div>
<div class="line"><span class="lineno">  167</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) { <span class="comment">/* it&#39;s an unpaired high surrogate */</span></div>
<div class="line"><span class="lineno">  168</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  169</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  170</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="line"><span class="lineno">  172</span>      } <span class="keywordflow">else</span> { <span class="comment">/* We don&#39;t have the 16 bits following the high surrogate. */</span></div>
<div class="line"><span class="lineno">  173</span>        --source; <span class="comment">/* return to the high surrogate */</span></div>
<div class="line"><span class="lineno">  174</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>;</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  176</span>      }</div>
<div class="line"><span class="lineno">  177</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  178</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  179</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  180</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  181</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  183</span>      }</div>
<div class="line"><span class="lineno">  184</span>    }</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">if</span> (target &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">  186</span>      source = oldSource; <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">  187</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>    *target++ = ch;</div>
<div class="line"><span class="lineno">  190</span>  }</div>
<div class="line"><span class="lineno">  191</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  192</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  193</span><span class="preprocessor">#ifdef CVTUTF_DEBUG</span></div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>) {</div>
<div class="line"><span class="lineno">  195</span>    fprintf(stderr, <span class="stringliteral">&quot;ConvertUTF16toUTF32 illegal seq 0x%04x,%04x\n&quot;</span>, ch, ch2);</div>
<div class="line"><span class="lineno">  196</span>    fflush(stderr);</div>
<div class="line"><span class="lineno">  197</span>  }</div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="aa00113_html_a50b71724cb39637be87babb9ddbd5822"><div class="ttname"><a href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a></div><div class="ttdeci">unsigned short UTF16</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:107</div></div>
<div class="ttc" id="aa00113_html_a712315a25692d905402a2f4db0ed622d"><div class="ttname"><a href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a></div><div class="ttdeci">ICCUINT32 UTF32</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:106</div></div>
<div class="ttc" id="aa00113_html_a857080450603c118c1f820f96e2c61d8"><div class="ttname"><a href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a></div><div class="ttdeci">icUtfConversionResult</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:118</div></div>
<div class="ttc" id="aa00113_html_a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b"><div class="ttname"><a href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a></div><div class="ttdeci">@ targetExhausted</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:121</div></div>
<div class="ttc" id="aa00113_html_a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631"><div class="ttname"><a href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a></div><div class="ttdeci">@ sourceIllegal</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:122</div></div>
<div class="ttc" id="aa00113_html_a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856"><div class="ttname"><a href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a></div><div class="ttdeci">@ conversionOK</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:119</div></div>
<div class="ttc" id="aa00113_html_a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223"><div class="ttname"><a href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a></div><div class="ttdeci">@ sourceExhausted</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:120</div></div>
<div class="ttc" id="aa00113_html_afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40"><div class="ttname"><a href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a></div><div class="ttdeci">@ strictConversion</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:126</div></div>
<div class="ttc" id="aa00224_html_a23de5862375b48afcb4e3ff7b56a274d"><div class="ttname"><a href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a></div><div class="ttdeci">#define UNI_SUR_LOW_START</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:54</div></div>
<div class="ttc" id="aa00224_html_a4ab84eb26356a90f3b7b9ac7aca1edfe"><div class="ttname"><a href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a></div><div class="ttdeci">#define UNI_SUR_HIGH_START</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:52</div></div>
<div class="ttc" id="aa00224_html_a8e6fc083a9b22a0116b35c73a50b8c18"><div class="ttname"><a href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a></div><div class="ttdeci">static const UTF32 halfBase</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:49</div></div>
<div class="ttc" id="aa00224_html_a9023510776bb97137517b59d39edbc3a"><div class="ttname"><a href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a></div><div class="ttdeci">static const int halfShift</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:47</div></div>
<div class="ttc" id="aa00224_html_ab9a531ffb73be79f7089049c1b84dc59"><div class="ttname"><a href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a></div><div class="ttdeci">#define UNI_SUR_LOW_END</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:55</div></div>
<div class="ttc" id="aa00224_html_ae5481872f1061e4e2a66849802b4b81e"><div class="ttname"><a href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a></div><div class="ttdeci">#define UNI_SUR_HIGH_END</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:53</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00121">targetExhausted</a>.</p>

</div>
</div>
<a id="af2ad0f41a856a026427b5471439fb604" name="af2ad0f41a856a026427b5471439fb604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ad0f41a856a026427b5471439fb604">&#9670;&#160;</a></span>icConvertUTF16toUTF32() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF16toUTF32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf32Vector&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  206</span>  target.clear();</div>
<div class="line"><span class="lineno">  207</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch, ch2;</div>
<div class="line"><span class="lineno">  208</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* oldSource = source; <span class="comment">/*  In case we have to back up because of target overflow. */</span></div>
<div class="line"><span class="lineno">  210</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  211</span>    <span class="comment">/* If we have a surrogate pair, convert to UTF32 first. */</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a>) {</div>
<div class="line"><span class="lineno">  213</span>      <span class="comment">/* If the 16 bits following the high surrogate are in the source buffer... */</span></div>
<div class="line"><span class="lineno">  214</span>      <span class="keywordflow">if</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  215</span>        ch2 = *source;</div>
<div class="line"><span class="lineno">  216</span>        <span class="comment">/* If it&#39;s a low surrogate, convert to UTF32. */</span></div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">if</span> (ch2 &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch2 &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  218</span>          ch = ((ch - <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>) &lt;&lt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>)</div>
<div class="line"><span class="lineno">  219</span>            + (ch2 - <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>) + <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  220</span>          ++source;</div>
<div class="line"><span class="lineno">  221</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) { <span class="comment">/* it&#39;s an unpaired high surrogate */</span></div>
<div class="line"><span class="lineno">  222</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  223</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  224</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span>      } <span class="keywordflow">else</span> { <span class="comment">/* We don&#39;t have the 16 bits following the high surrogate. */</span></div>
<div class="line"><span class="lineno">  227</span>        --source; <span class="comment">/* return to the high surrogate */</span></div>
<div class="line"><span class="lineno">  228</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>;</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  230</span>      }</div>
<div class="line"><span class="lineno">  231</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  232</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  233</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  234</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  235</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  237</span>      }</div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span>    target.push_back(ch);</div>
<div class="line"><span class="lineno">  240</span>  }</div>
<div class="line"><span class="lineno">  241</span><span class="preprocessor">#ifdef CVTUTF_DEBUG</span></div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>) {</div>
<div class="line"><span class="lineno">  243</span>    fprintf(stderr, <span class="stringliteral">&quot;ConvertUTF16toUTF32 illegal seq 0x%04x,%04x\n&quot;</span>, ch, ch2);</div>
<div class="line"><span class="lineno">  244</span>    fflush(stderr);</div>
<div class="line"><span class="lineno">  245</span>  }</div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  248</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, and <a class="el" href="../../#l00126">strictConversion</a>.</p>

</div>
</div>
<a id="a9475bff9709f2bff030ab67184e39bf2" name="a9475bff9709f2bff030ab67184e39bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9475bff9709f2bff030ab67184e39bf2">&#9670;&#160;</a></span>icConvertUTF16toUTF8() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF16toUTF8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  301</span>{</div>
<div class="line"><span class="lineno">  302</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  303</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">  304</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">  305</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bytesToWrite = 0;</div>
<div class="line"><span class="lineno">  308</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMask = 0xBF;</div>
<div class="line"><span class="lineno">  309</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMark = 0x80; </div>
<div class="line"><span class="lineno">  310</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* oldSource = source; <span class="comment">/* In case we have to back up because of target overflow. */</span></div>
<div class="line"><span class="lineno">  311</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  312</span>    <span class="comment">/* If we have a surrogate pair, convert to UTF32 first. */</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a>) {</div>
<div class="line"><span class="lineno">  314</span>      <span class="comment">/* If the 16 bits following the high surrogate are in the source buffer... */</span></div>
<div class="line"><span class="lineno">  315</span>      <span class="keywordflow">if</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  316</span>        <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch2 = *source;</div>
<div class="line"><span class="lineno">  317</span>        <span class="comment">/* If it&#39;s a low surrogate, convert to UTF32. */</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (ch2 &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch2 &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  319</span>          ch = ((ch - <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>) &lt;&lt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>)</div>
<div class="line"><span class="lineno">  320</span>            + (ch2 - <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>) + <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  321</span>          ++source;</div>
<div class="line"><span class="lineno">  322</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) { <span class="comment">/* it&#39;s an unpaired high surrogate */</span></div>
<div class="line"><span class="lineno">  323</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  324</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  325</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  326</span>        }</div>
<div class="line"><span class="lineno">  327</span>      } <span class="keywordflow">else</span> { <span class="comment">/* We don&#39;t have the 16 bits following the high surrogate. */</span></div>
<div class="line"><span class="lineno">  328</span>        --source; <span class="comment">/* return to the high surrogate */</span></div>
<div class="line"><span class="lineno">  329</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>;</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  331</span>      }</div>
<div class="line"><span class="lineno">  332</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  333</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  334</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  335</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  336</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  338</span>      }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span>    <span class="comment">/* Figure out how many bytes the result will require */</span></div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x80) {      bytesToWrite = 1;</div>
<div class="line"><span class="lineno">  342</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x800) {     bytesToWrite = 2;</div>
<div class="line"><span class="lineno">  343</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x10000) {   bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  344</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x110000) {  bytesToWrite = 4;</div>
<div class="line"><span class="lineno">  345</span>    } <span class="keywordflow">else</span> {                bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  346</span>    ch = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    target += bytesToWrite;</div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">if</span> (target &gt; targetEnd) {</div>
<div class="line"><span class="lineno">  351</span>      source = oldSource; <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">  352</span>      target -= bytesToWrite; result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  353</span>    }</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">switch</span> (bytesToWrite) { <span class="comment">/* note: everything falls through. */</span></div>
<div class="line"><span class="lineno">  355</span>      <span class="keywordflow">case</span> 4: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  356</span>      <span class="keywordflow">case</span> 3: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">case</span> 2: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  358</span>      <span class="keywordflow">case</span> 1: *--target =  (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)(ch | <a class="code hl_variable" href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a>[bytesToWrite]);</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span>    target += bytesToWrite;</div>
<div class="line"><span class="lineno">  361</span>  }</div>
<div class="line"><span class="lineno">  362</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  363</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  364</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  365</span>}</div>
<div class="ttc" id="aa00113_html_a44b240b95a93f71535c03f5e26d7dbe1"><div class="ttname"><a href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a></div><div class="ttdeci">#define UNI_REPLACEMENT_CHAR</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:112</div></div>
<div class="ttc" id="aa00113_html_aafe543c40e242c865f970b57a29122ab"><div class="ttname"><a href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a></div><div class="ttdeci">unsigned char UTF8</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:108</div></div>
<div class="ttc" id="aa00224_html_a84be1e52702338d8e7aaeb1c2da2b375"><div class="ttname"><a href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a></div><div class="ttdeci">static const UTF8 firstByteMark[7]</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:285</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00285">firstByteMark</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00121">targetExhausted</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00341">icUtf16ToUtf8()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a9475bff9709f2bff030ab67184e39bf2_icgraph.png" border="0" usemap="#ad5/ddf/a00224_a9475bff9709f2bff030ab67184e39bf2_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a9475bff9709f2bff030ab67184e39bf2_icgraph" id="ad5/ddf/a00224_a9475bff9709f2bff030ab67184e39bf2_icgraph">
<area shape="rect" title=" " alt="" coords="413,127,587,152"/>
<area shape="rect" href="../../d5/d35/a00266.html#a5375769a600dcfbde6aa6b4a7f383ce5" title=" " alt="" coords="255,127,365,152"/>
<area shape="poly" title=" " alt="" coords="400,142,366,142,366,137,400,137"/>
<area shape="rect" href="../../db/ddd/a02089.html#a3103facd65438b09816f9b967567ad93" title=" " alt="" coords="17,5,195,31"/>
<area shape="poly" title=" " alt="" coords="288,118,252,80,205,46,175,33,177,28,208,41,256,76,292,114"/>
<area shape="rect" href="../../d7/db1/a01837.html#a237b1ad09fe25ec7be340b0087a799ed" title=" " alt="" coords="7,55,205,95"/>
<area shape="poly" title=" " alt="" coords="255,125,170,98,171,93,257,120"/>
<area shape="rect" href="../../d7/d9c/a01885.html#a38e9548763954f73c29b8bc8ce0f5b5d" title=" " alt="" coords="11,119,201,159"/>
<area shape="poly" title=" " alt="" coords="241,142,201,142,201,137,241,137"/>
<area shape="rect" href="../../d2/d23/a01961.html#a41908f2a338b06b71d5291aaa8ac1532" title=" " alt="" coords="5,183,207,223"/>
<area shape="poly" title=" " alt="" coords="257,159,171,186,170,181,255,154"/>
<area shape="rect" href="../../d6/d9a/a01965.html#a392a644105c454e2f0aa9b9b7b69a6d6" title=" " alt="" coords="21,248,191,273"/>
<area shape="poly" title=" " alt="" coords="292,164,256,202,208,238,177,250,175,245,205,233,252,198,288,161"/>
</map>
</div>

</div>
</div>
<a id="a880ecbb5fbed03ebf5e895ed431117af" name="a880ecbb5fbed03ebf5e895ed431117af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880ecbb5fbed03ebf5e895ed431117af">&#9670;&#160;</a></span>icConvertUTF16toUTF8() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF16toUTF8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf8Vector &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  369</span>{</div>
<div class="line"><span class="lineno">  370</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  371</span>  target.clear();</div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  373</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bytesToWrite = 0;</div>
<div class="line"><span class="lineno">  375</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMask = 0xBF;</div>
<div class="line"><span class="lineno">  376</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMark = 0x80; </div>
<div class="line"><span class="lineno">  377</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* oldSource = source; <span class="comment">/* In case we have to back up because of target overflow. */</span></div>
<div class="line"><span class="lineno">  378</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">/* If we have a surrogate pair, convert to UTF32 first. */</span></div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ae5481872f1061e4e2a66849802b4b81e">UNI_SUR_HIGH_END</a>) {</div>
<div class="line"><span class="lineno">  381</span>      <span class="comment">/* If the 16 bits following the high surrogate are in the source buffer... */</span></div>
<div class="line"><span class="lineno">  382</span>      <span class="keywordflow">if</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  383</span>        <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch2 = *source;</div>
<div class="line"><span class="lineno">  384</span>        <span class="comment">/* If it&#39;s a low surrogate, convert to UTF32. */</span></div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">if</span> (ch2 &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch2 &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  386</span>          ch = ((ch - <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>) &lt;&lt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>)</div>
<div class="line"><span class="lineno">  387</span>            + (ch2 - <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>) + <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  388</span>          ++source;</div>
<div class="line"><span class="lineno">  389</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) { <span class="comment">/* it&#39;s an unpaired high surrogate */</span></div>
<div class="line"><span class="lineno">  390</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  391</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  392</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  393</span>        }</div>
<div class="line"><span class="lineno">  394</span>      } <span class="keywordflow">else</span> { <span class="comment">/* We don&#39;t have the 16 bits following the high surrogate. */</span></div>
<div class="line"><span class="lineno">  395</span>        --source; <span class="comment">/* return to the high surrogate */</span></div>
<div class="line"><span class="lineno">  396</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>;</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  398</span>      }</div>
<div class="line"><span class="lineno">  399</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  400</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  401</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  402</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  403</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  405</span>      }</div>
<div class="line"><span class="lineno">  406</span>    }</div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">/* Figure out how many bytes the result will require */</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x80) {      bytesToWrite = 1;</div>
<div class="line"><span class="lineno">  409</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x800) {     bytesToWrite = 2;</div>
<div class="line"><span class="lineno">  410</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x10000) {   bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  411</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x110000) {  bytesToWrite = 4;</div>
<div class="line"><span class="lineno">  412</span>    } <span class="keywordflow">else</span> {                bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  413</span>    ch = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  414</span>    }</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> buf[5], *ptr = &amp;buf[bytesToWrite];</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">switch</span> (bytesToWrite) { <span class="comment">/* note: everything falls through. */</span></div>
<div class="line"><span class="lineno">  418</span>      <span class="keywordflow">case</span> 4: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  419</span>      <span class="keywordflow">case</span> 3: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  420</span>      <span class="keywordflow">case</span> 2: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  421</span>      <span class="keywordflow">case</span> 1: *--ptr =  (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)(ch | <a class="code hl_variable" href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a>[bytesToWrite]);</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">switch</span>(bytesToWrite) {</div>
<div class="line"><span class="lineno">  424</span>      <span class="keywordflow">case</span> 4: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordflow">case</span> 3: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  426</span>      <span class="keywordflow">case</span> 2: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  427</span>      <span class="keywordflow">case</span> 1: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  428</span>    }</div>
<div class="line"><span class="lineno">  429</span>  }</div>
<div class="line"><span class="lineno">  430</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  431</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00285">firstByteMark</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, and <a class="el" href="../../#l00126">strictConversion</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01728">CIccTagUtf16Text::GetText()</a>, <a class="el" href="../../#l00930">CIccTagUtf8Text::SetText()</a>, and <a class="el" href="../../#l01390">CIccTagZipUtf8Text::SetText()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a880ecbb5fbed03ebf5e895ed431117af_icgraph.png" border="0" usemap="#ad5/ddf/a00224_a880ecbb5fbed03ebf5e895ed431117af_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a880ecbb5fbed03ebf5e895ed431117af_icgraph" id="ad5/ddf/a00224_a880ecbb5fbed03ebf5e895ed431117af_icgraph">
<area shape="rect" title=" " alt="" coords="695,104,868,129"/>
<area shape="rect" href="../../da/d0a/a00993.html#ae654194f435d60814c10180a23434556" title=" " alt="" coords="455,55,647,80"/>
<area shape="poly" title=" " alt="" coords="708,104,610,83,611,77,709,99"/>
<area shape="rect" href="../../dd/d24/a00981.html#af736f8ee9ff9eca84c261ac678b5be52" title=" " alt="" coords="459,104,642,129"/>
<area shape="poly" title=" " alt="" coords="681,119,642,119,642,114,681,114"/>
<area shape="rect" href="../../da/deb/a00985.html#a8f49080043ca697d2074cc0851f89921" title=" " alt="" coords="477,154,624,194"/>
<area shape="poly" title=" " alt="" coords="717,135,625,158,623,153,716,130"/>
<area shape="rect" href="../../da/d0a/a00993.html#ad339531952ecb500b627f49aaf4d5a0d" title=" " alt="" coords="208,5,407,31"/>
<area shape="poly" title=" " alt="" coords="473,55,370,33,371,28,475,49"/>
<area shape="rect" href="../../d9/dd0/a00191.html#a1ee82c48f7a6b5dcffb8c62828beba99" title=" " alt="" coords="255,55,360,80"/>
<area shape="poly" title=" " alt="" coords="441,70,360,70,360,65,441,65"/>
<area shape="rect" href="../../db/dd5/a01833.html#addd353fa8cdf6589dea0c13d0f1d507e" title=" " alt="" coords="227,105,387,145"/>
<area shape="poly" title=" " alt="" coords="483,86,388,108,387,103,482,81"/>
<area shape="rect" href="../../de/d74/a02137.html#afc345bbe4c130144573995e66f9e9c82" title=" " alt="" coords="5,31,160,56"/>
<area shape="poly" title=" " alt="" coords="241,63,160,54,160,49,242,58"/>
<area shape="rect" href="../../df/d91/a00335.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="55,80,110,105"/>
<area shape="poly" title=" " alt="" coords="241,77,111,92,110,87,241,72"/>
</map>
</div>

</div>
</div>
<a id="aab19788fc1e2c1adad19643744bc81db" name="aab19788fc1e2c1adad19643744bc81db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab19788fc1e2c1adad19643744bc81db">&#9670;&#160;</a></span>icConvertUTF32toUTF16() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF32toUTF16 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">   65</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">   66</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">   67</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> (target &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">   70</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   71</span>    }</div>
<div class="line"><span class="lineno">   72</span>    ch = *source++;</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#adc71280d09832f0fb6c6b83fbf043140">UNI_MAX_BMP</a>) { <span class="comment">/* Target is a character &lt;= 0xFFFF */</span></div>
<div class="line"><span class="lineno">   74</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32; 0xffff or 0xfffe are both reserved values */</span></div>
<div class="line"><span class="lineno">   75</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">   77</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">   78</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">   79</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   80</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   81</span>          *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   84</span>        *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)ch; <span class="comment">/* normal case */</span></div>
<div class="line"><span class="lineno">   85</span>      }</div>
<div class="line"><span class="lineno">   86</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &gt; <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {</div>
<div class="line"><span class="lineno">   87</span>      <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">   88</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">   89</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   90</span>        *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">   91</span>      }</div>
<div class="line"><span class="lineno">   92</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   93</span>      <span class="comment">/* target is a character in range 0xFFFF - 0x10FFFF. */</span></div>
<div class="line"><span class="lineno">   94</span>      <span class="keywordflow">if</span> (target + 1 &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">   95</span>        --source; <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">   96</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   97</span>      }</div>
<div class="line"><span class="lineno">   98</span>      ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">   99</span>      *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &gt;&gt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>);</div>
<div class="line"><span class="lineno">  100</span>      *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &amp; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>);</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span>  }</div>
<div class="line"><span class="lineno">  103</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  104</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  106</span>}</div>
<div class="ttc" id="aa00113_html_a98a2f50a1ca513613316ffd384dd1bfb"><div class="ttname"><a href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a></div><div class="ttdeci">#define UNI_MAX_LEGAL_UTF32</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:116</div></div>
<div class="ttc" id="aa00113_html_adc71280d09832f0fb6c6b83fbf043140"><div class="ttname"><a href="../../d3/d00/a00113.html#adc71280d09832f0fb6c6b83fbf043140">UNI_MAX_BMP</a></div><div class="ttdeci">#define UNI_MAX_BMP</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:113</div></div>
<div class="ttc" id="aa00224_html_a3eb375b25f02aaecedb92086ff2a7af3"><div class="ttname"><a href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a></div><div class="ttdeci">static const UTF32 halfMask</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:50</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00050">halfMask</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00121">targetExhausted</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l07333">CIccLocalizedUnicode::SetText()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_aab19788fc1e2c1adad19643744bc81db_icgraph.png" border="0" usemap="#ad5/ddf/a00224_aab19788fc1e2c1adad19643744bc81db_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_aab19788fc1e2c1adad19643744bc81db_icgraph" id="ad5/ddf/a00224_aab19788fc1e2c1adad19643744bc81db_icgraph">
<area shape="rect" title=" " alt="" coords="483,45,664,70"/>
<area shape="rect" href="../../dc/d99/a01053.html#a365aeff5cd79f87ebbae5ec71789ce95" title=" " alt="" coords="272,37,435,77"/>
<area shape="poly" title=" " alt="" coords="469,60,435,60,435,55,469,55"/>
<area shape="rect" href="../../dc/d99/a01053.html#ae0c90fac5fb3541983f1ba3599c02e04" title=" " alt="" coords="33,5,196,45"/>
<area shape="poly" title=" " alt="" coords="258,47,196,39,197,34,258,42"/>
<area shape="rect" href="../../d2/db8/a01057.html#a446763061a78ba907cf91540b68ae2ee" title=" " alt="" coords="5,69,224,109"/>
<area shape="poly" title=" " alt="" coords="258,73,225,77,224,72,258,67"/>
</map>
</div>

</div>
</div>
<a id="a612a6af98bd1f5cf61779c9463f1a3c8" name="a612a6af98bd1f5cf61779c9463f1a3c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612a6af98bd1f5cf61779c9463f1a3c8">&#9670;&#160;</a></span>icConvertUTF32toUTF16() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF32toUTF16 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf16Vector &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  112</span>  target.clear();</div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">  115</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#adc71280d09832f0fb6c6b83fbf043140">UNI_MAX_BMP</a>) { <span class="comment">/* Target is a character &lt;= 0xFFFF */</span></div>
<div class="line"><span class="lineno">  117</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32; 0xffff or 0xfffe are both reserved values */</span></div>
<div class="line"><span class="lineno">  118</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  120</span>          --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  121</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  122</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  123</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  124</span>          target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  125</span>        }</div>
<div class="line"><span class="lineno">  126</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  127</span>        target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)ch); <span class="comment">/* normal case */</span></div>
<div class="line"><span class="lineno">  128</span>      }</div>
<div class="line"><span class="lineno">  129</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &gt; <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {</div>
<div class="line"><span class="lineno">  130</span>      <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  131</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  132</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  133</span>        target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  134</span>      }</div>
<div class="line"><span class="lineno">  135</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  136</span>      ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  137</span>      target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &gt;&gt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>));</div>
<div class="line"><span class="lineno">  138</span>      target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &amp; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>));</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span>  }</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  142</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00050">halfMask</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, and <a class="el" href="../../#l00126">strictConversion</a>.</p>

</div>
</div>
<a id="a4b83fede8df29c19df526c70209f80d5" name="a4b83fede8df29c19df526c70209f80d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b83fede8df29c19df526c70209f80d5">&#9670;&#160;</a></span>icConvertUTF32toUTF8() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF32toUTF8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  624</span>{</div>
<div class="line"><span class="lineno">  625</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  626</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">  627</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">  628</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bytesToWrite = 0;</div>
<div class="line"><span class="lineno">  631</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMask = 0xBF;</div>
<div class="line"><span class="lineno">  632</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMark = 0x80; </div>
<div class="line"><span class="lineno">  633</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a> ) {</div>
<div class="line"><span class="lineno">  635</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  636</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  637</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  638</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  640</span>      }</div>
<div class="line"><span class="lineno">  641</span>    }</div>
<div class="line"><span class="lineno">  642</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  643</span><span class="comment">    * Figure out how many bytes the result will require. Turn any</span></div>
<div class="line"><span class="lineno">  644</span><span class="comment">    * illegally large UTF32 things (&gt; Plane 17) into replacement chars.</span></div>
<div class="line"><span class="lineno">  645</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x80) {      bytesToWrite = 1;</div>
<div class="line"><span class="lineno">  647</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x800) {     bytesToWrite = 2;</div>
<div class="line"><span class="lineno">  648</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x10000) {   bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  649</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {  bytesToWrite = 4;</div>
<div class="line"><span class="lineno">  650</span>    } <span class="keywordflow">else</span> {                bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  651</span>    ch = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  652</span>    result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  653</span>    }</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    target += bytesToWrite;</div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">if</span> (target &gt; targetEnd) {</div>
<div class="line"><span class="lineno">  657</span>      --source; <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">  658</span>      target -= bytesToWrite; result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  659</span>    }</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">switch</span> (bytesToWrite) { <span class="comment">/* note: everything falls through. */</span></div>
<div class="line"><span class="lineno">  661</span>      <span class="keywordflow">case</span> 4: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  662</span>      <span class="keywordflow">case</span> 3: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  663</span>      <span class="keywordflow">case</span> 2: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  664</span>      <span class="keywordflow">case</span> 1: *--target = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>) (ch | <a class="code hl_variable" href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a>[bytesToWrite]);</div>
<div class="line"><span class="lineno">  665</span>    }</div>
<div class="line"><span class="lineno">  666</span>    target += bytesToWrite;</div>
<div class="line"><span class="lineno">  667</span>  }</div>
<div class="line"><span class="lineno">  668</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  669</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  670</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  671</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00285">firstByteMark</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00121">targetExhausted</a>.</p>

</div>
</div>
<a id="a8d4bbe97c605cefbaf64bf9e4ce65d99" name="a8d4bbe97c605cefbaf64bf9e4ce65d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4bbe97c605cefbaf64bf9e4ce65d99">&#9670;&#160;</a></span>icConvertUTF32toUTF8() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF32toUTF8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf8Vector &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  675</span>{</div>
<div class="line"><span class="lineno">  676</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  677</span>  target.clear();</div>
<div class="line"><span class="lineno">  678</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  679</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch;</div>
<div class="line"><span class="lineno">  680</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> bytesToWrite = 0;</div>
<div class="line"><span class="lineno">  681</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMask = 0xBF;</div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> byteMark = 0x80; </div>
<div class="line"><span class="lineno">  683</span>    ch = *source++;</div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a> ) {</div>
<div class="line"><span class="lineno">  685</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  686</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  687</span>        --source; <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  688</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  690</span>      }</div>
<div class="line"><span class="lineno">  691</span>    }</div>
<div class="line"><span class="lineno">  692</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  693</span><span class="comment">    * Figure out how many bytes the result will require. Turn any</span></div>
<div class="line"><span class="lineno">  694</span><span class="comment">    * illegally large UTF32 things (&gt; Plane 17) into replacement chars.</span></div>
<div class="line"><span class="lineno">  695</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x80) {      bytesToWrite = 1;</div>
<div class="line"><span class="lineno">  697</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x800) {     bytesToWrite = 2;</div>
<div class="line"><span class="lineno">  698</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt; (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>)0x10000) {   bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  699</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {  bytesToWrite = 4;</div>
<div class="line"><span class="lineno">  700</span>    } <span class="keywordflow">else</span> {                bytesToWrite = 3;</div>
<div class="line"><span class="lineno">  701</span>    ch = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  702</span>    result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  703</span>    }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> buf[5], *ptr = &amp;buf[bytesToWrite];</div>
<div class="line"><span class="lineno">  706</span>    <span class="keywordflow">switch</span> (bytesToWrite) { <span class="comment">/* note: everything falls through. */</span></div>
<div class="line"><span class="lineno">  707</span>      <span class="keywordflow">case</span> 4: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  708</span>      <span class="keywordflow">case</span> 3: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  709</span>      <span class="keywordflow">case</span> 2: *--ptr = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)((ch | byteMark) &amp; byteMask); ch &gt;&gt;= 6;</div>
<div class="line"><span class="lineno">  710</span>      <span class="keywordflow">case</span> 1: *--ptr =  (<a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>)(ch | <a class="code hl_variable" href="../../d5/ddf/a00224.html#a84be1e52702338d8e7aaeb1c2da2b375">firstByteMark</a>[bytesToWrite]);</div>
<div class="line"><span class="lineno">  711</span>    }</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordflow">switch</span>(bytesToWrite) {</div>
<div class="line"><span class="lineno">  713</span>      <span class="keywordflow">case</span> 4: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  714</span>      <span class="keywordflow">case</span> 3: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  715</span>      <span class="keywordflow">case</span> 2: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  716</span>      <span class="keywordflow">case</span> 1: target.push_back(*ptr++);</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span>  }</div>
<div class="line"><span class="lineno">  719</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  720</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00285">firstByteMark</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, and <a class="el" href="../../#l00126">strictConversion</a>.</p>

</div>
</div>
<a id="a7cdda5a4721eb3c925fa76a61bf20759" name="a7cdda5a4721eb3c925fa76a61bf20759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdda5a4721eb3c925fa76a61bf20759">&#9670;&#160;</a></span>icConvertUTF8toUTF16() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF8toUTF16 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  491</span>{</div>
<div class="line"><span class="lineno">  492</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  493</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">  494</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">  495</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch = 0;</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> extraBytesToRead = <a class="code hl_variable" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a>[*source];</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> (source + extraBytesToRead &gt;= sourceEnd) {</div>
<div class="line"><span class="lineno">  499</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  500</span>    }</div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">/* Do this check whether lenient or strict */</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a>(source, extraBytesToRead+1)) {</div>
<div class="line"><span class="lineno">  503</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  504</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  505</span>    }</div>
<div class="line"><span class="lineno">  506</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  507</span><span class="comment">    * The cases all fall through. See &quot;Note A&quot; below.</span></div>
<div class="line"><span class="lineno">  508</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">switch</span> (extraBytesToRead) {</div>
<div class="line"><span class="lineno">  510</span>      <span class="keywordflow">case</span> 5: ch += *source++; ch &lt;&lt;= 6; <span class="comment">/* remember, illegal UTF-8 */</span></div>
<div class="line"><span class="lineno">  511</span>      <span class="keywordflow">case</span> 4: ch += *source++; ch &lt;&lt;= 6; <span class="comment">/* remember, illegal UTF-8 */</span></div>
<div class="line"><span class="lineno">  512</span>      <span class="keywordflow">case</span> 3: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  513</span>      <span class="keywordflow">case</span> 2: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  514</span>      <span class="keywordflow">case</span> 1: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  515</span>      <span class="keywordflow">case</span> 0: ch += *source++;</div>
<div class="line"><span class="lineno">  516</span>    }</div>
<div class="line"><span class="lineno">  517</span>    ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a>[extraBytesToRead];</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">if</span> (target &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">  520</span>      source -= (extraBytesToRead+1); <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">  521</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#adc71280d09832f0fb6c6b83fbf043140">UNI_MAX_BMP</a>) { <span class="comment">/* Target is a character &lt;= 0xFFFF */</span></div>
<div class="line"><span class="lineno">  524</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  525</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  527</span>          source -= (extraBytesToRead+1); <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  528</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  529</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  530</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  531</span>          *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  532</span>        }</div>
<div class="line"><span class="lineno">  533</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  534</span>        *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)ch; <span class="comment">/* normal case */</span></div>
<div class="line"><span class="lineno">  535</span>      }</div>
<div class="line"><span class="lineno">  536</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &gt; <a class="code hl_define" href="../../d3/d00/a00113.html#a69d0ea77d1231214ba0893e846d7fcaf">UNI_MAX_UTF16</a>) {</div>
<div class="line"><span class="lineno">  537</span>      <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  538</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  539</span>        source -= (extraBytesToRead+1); <span class="comment">/* return to the start */</span></div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">break</span>; <span class="comment">/* Bail out; shouldn&#39;t continue */</span></div>
<div class="line"><span class="lineno">  541</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  542</span>        *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  543</span>      }</div>
<div class="line"><span class="lineno">  544</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  545</span>      <span class="comment">/* target is a character in range 0xFFFF - 0x10FFFF. */</span></div>
<div class="line"><span class="lineno">  546</span>      <span class="keywordflow">if</span> (target + 1 &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">  547</span>        source -= (extraBytesToRead+1); <span class="comment">/* Back up source pointer! */</span></div>
<div class="line"><span class="lineno">  548</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  549</span>      }</div>
<div class="line"><span class="lineno">  550</span>      ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  551</span>      *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &gt;&gt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>);</div>
<div class="line"><span class="lineno">  552</span>      *target++ = (<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &amp; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>);</div>
<div class="line"><span class="lineno">  553</span>    }</div>
<div class="line"><span class="lineno">  554</span>  }</div>
<div class="line"><span class="lineno">  555</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  556</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  557</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  558</span>}</div>
<div class="ttc" id="aa00113_html_a69d0ea77d1231214ba0893e846d7fcaf"><div class="ttname"><a href="../../d3/d00/a00113.html#a69d0ea77d1231214ba0893e846d7fcaf">UNI_MAX_UTF16</a></div><div class="ttdeci">#define UNI_MAX_UTF16</div><div class="ttdef"><b>Definition</b> IccConvertUTF.h:114</div></div>
<div class="ttc" id="aa00224_html_a2827254e79699e0e1a4ef1f510e2262a"><div class="ttname"><a href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a></div><div class="ttdeci">static const char trailingBytesForUTF8[256]</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:259</div></div>
<div class="ttc" id="aa00224_html_a3a0d41e6f13988419ab99d6a14719a8c"><div class="ttname"><a href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a></div><div class="ttdeci">static Boolean isLegalUTF8(const UTF8 *source, int length)</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:446</div></div>
<div class="ttc" id="aa00224_html_af2f91e07d9adfd50e53dbbb38ba3245f"><div class="ttname"><a href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a></div><div class="ttdeci">static const UTF32 offsetsFromUTF8[6]</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:275</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00050">halfMask</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00446">isLegalUTF8()</a>, <a class="el" href="../../#l00275">offsetsFromUTF8</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, <a class="el" href="../../#l00121">targetExhausted</a>, and <a class="el" href="../../#l00259">trailingBytesForUTF8</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00096">CIccUTF16String::CIccUTF16String()</a>, and <a class="el" href="../../#l00223">CIccUTF16String::FromUtf8()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_cgraph.png" border="0" usemap="#ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_cgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_cgraph" id="ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,179,31"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c" title=" " alt="" coords="227,5,329,31"/>
<area shape="poly" title=" " alt="" coords="179,15,213,15,213,21,179,21"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_icgraph.png" border="0" usemap="#ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_icgraph" id="ad5/ddf/a00224_a7cdda5a4721eb3c925fa76a61bf20759_icgraph">
<area shape="rect" title=" " alt="" coords="751,195,924,221"/>
<area shape="rect" href="../../db/ddd/a02089.html#a5209999d2313fd5b19d6832fb90ee9d5" title=" " alt="" coords="496,133,703,173"/>
<area shape="poly" title=" " alt="" coords="768,195,687,176,688,171,769,190"/>
<area shape="rect" href="../../db/ddd/a02089.html#a6974e5dc49b8069799812361ae3d764d" title=" " alt="" coords="500,249,699,274"/>
<area shape="poly" title=" " alt="" coords="767,226,657,251,656,246,766,221"/>
<area shape="rect" href="../../d7/db1/a01837.html#a90eeefd13346d44fe87970c91ca28287" title=" " alt="" coords="247,5,446,45"/>
<area shape="poly" title=" " alt="" coords="559,127,507,93,447,60,418,48,420,43,449,55,509,88,562,123"/>
<area shape="rect" href="../../d7/d9c/a01885.html#adcb1238d1761fc5a61a03df9bcdfa18e" title=" " alt="" coords="251,69,442,109"/>
<area shape="poly" title=" " alt="" coords="506,132,425,112,427,107,507,127"/>
<area shape="rect" href="../../d2/d23/a01961.html#afbaaee340011d5bd09960d699d352e14" title=" " alt="" coords="246,133,447,173"/>
<area shape="poly" title=" " alt="" coords="482,156,448,156,448,151,482,151"/>
<area shape="rect" href="../../d6/d9a/a01965.html#a88c29060c9f89f8b6033dcb3a535d4d4" title=" " alt="" coords="5,249,197,274"/>
<area shape="poly" title=" " alt="" coords="493,179,161,251,160,246,492,174"/>
<area shape="rect" href="../../d5/d35/a00266.html#a7e9c5de46dd2e23ed3ce85f7802cae12" title=" " alt="" coords="291,249,402,274"/>
<area shape="poly" title=" " alt="" coords="487,264,402,264,402,259,487,259"/>
<area shape="rect" href="../../db/ddd/a02089.html#a05e4b7cdf12723b5678b08107235a2bd" title=" " alt="" coords="245,298,448,323"/>
<area shape="poly" title=" " alt="" coords="521,279,413,301,412,295,520,274"/>
<area shape="poly" title=" " alt="" coords="269,298,165,277,166,271,270,293"/>
</map>
</div>

</div>
</div>
<a id="aba9670456b509347318b577d427c2a40" name="aba9670456b509347318b577d427c2a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9670456b509347318b577d427c2a40">&#9670;&#160;</a></span>icConvertUTF8toUTF16() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF8toUTF16 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf16Vector &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  562</span>{</div>
<div class="line"><span class="lineno">  563</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  564</span>  target.clear();</div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  566</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch = 0;</div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> extraBytesToRead = <a class="code hl_variable" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a>[*source];</div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span> (source + extraBytesToRead &gt;= sourceEnd) {</div>
<div class="line"><span class="lineno">  569</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  570</span>    }</div>
<div class="line"><span class="lineno">  571</span>    <span class="comment">/* Do this check whether lenient or strict */</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a>(source, extraBytesToRead+1)) {</div>
<div class="line"><span class="lineno">  573</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  574</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  575</span>    }</div>
<div class="line"><span class="lineno">  576</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  577</span><span class="comment">    * The cases all fall through. See &quot;Note A&quot; below.</span></div>
<div class="line"><span class="lineno">  578</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">switch</span> (extraBytesToRead) {</div>
<div class="line"><span class="lineno">  580</span>      <span class="keywordflow">case</span> 5: ch += *source++; ch &lt;&lt;= 6; <span class="comment">/* remember, illegal UTF-8 */</span></div>
<div class="line"><span class="lineno">  581</span>      <span class="keywordflow">case</span> 4: ch += *source++; ch &lt;&lt;= 6; <span class="comment">/* remember, illegal UTF-8 */</span></div>
<div class="line"><span class="lineno">  582</span>      <span class="keywordflow">case</span> 3: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  583</span>      <span class="keywordflow">case</span> 2: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  584</span>      <span class="keywordflow">case</span> 1: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  585</span>      <span class="keywordflow">case</span> 0: ch += *source++;</div>
<div class="line"><span class="lineno">  586</span>    }</div>
<div class="line"><span class="lineno">  587</span>    ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a>[extraBytesToRead];</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#adc71280d09832f0fb6c6b83fbf043140">UNI_MAX_BMP</a>) { <span class="comment">/* Target is a character &lt;= 0xFFFF */</span></div>
<div class="line"><span class="lineno">  590</span>      <span class="comment">/* UTF-16 surrogate values are illegal in UTF-32 */</span></div>
<div class="line"><span class="lineno">  591</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  593</span>          source -= (extraBytesToRead+1); <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  594</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  595</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  596</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  597</span>          target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  598</span>        }</div>
<div class="line"><span class="lineno">  599</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  600</span>        target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)ch); <span class="comment">/* normal case */</span></div>
<div class="line"><span class="lineno">  601</span>      }</div>
<div class="line"><span class="lineno">  602</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &gt; <a class="code hl_define" href="../../d3/d00/a00113.html#a69d0ea77d1231214ba0893e846d7fcaf">UNI_MAX_UTF16</a>) {</div>
<div class="line"><span class="lineno">  603</span>      <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  604</span>        result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  605</span>        source -= (extraBytesToRead+1); <span class="comment">/* return to the start */</span></div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">break</span>; <span class="comment">/* Bail out; shouldn&#39;t continue */</span></div>
<div class="line"><span class="lineno">  607</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  608</span>        target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  609</span>      }</div>
<div class="line"><span class="lineno">  610</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  611</span>      <span class="comment">/* target is a character in range 0xFFFF - 0x10FFFF. */</span></div>
<div class="line"><span class="lineno">  612</span>      ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#a8e6fc083a9b22a0116b35c73a50b8c18">halfBase</a>;</div>
<div class="line"><span class="lineno">  613</span>      target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &gt;&gt; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a9023510776bb97137517b59d39edbc3a">halfShift</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a>));</div>
<div class="line"><span class="lineno">  614</span>      target.push_back((<a class="code hl_typedef" href="../../d3/d00/a00113.html#a50b71724cb39637be87babb9ddbd5822">UTF16</a>)((ch &amp; <a class="code hl_variable" href="../../d5/ddf/a00224.html#a3eb375b25f02aaecedb92086ff2a7af3">halfMask</a>) + <a class="code hl_define" href="../../d5/ddf/a00224.html#a23de5862375b48afcb4e3ff7b56a274d">UNI_SUR_LOW_START</a>));</div>
<div class="line"><span class="lineno">  615</span>    }</div>
<div class="line"><span class="lineno">  616</span>  }</div>
<div class="line"><span class="lineno">  617</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  618</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00049">halfBase</a>, <a class="el" href="../../#l00050">halfMask</a>, <a class="el" href="../../#l00047">halfShift</a>, <a class="el" href="../../#l00446">isLegalUTF8()</a>, <a class="el" href="../../#l00275">offsetsFromUTF8</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00259">trailingBytesForUTF8</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01785">CIccTagUtf16Text::SetText()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_aba9670456b509347318b577d427c2a40_cgraph.png" border="0" usemap="#ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_cgraph" alt=""/></div>
<map name="ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_cgraph" id="ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,179,31"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c" title=" " alt="" coords="227,5,329,31"/>
<area shape="poly" title=" " alt="" coords="179,15,213,15,213,21,179,21"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_aba9670456b509347318b577d427c2a40_icgraph.png" border="0" usemap="#ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_icgraph" id="ad5/ddf/a00224_aba9670456b509347318b577d427c2a40_icgraph">
<area shape="rect" title=" " alt="" coords="691,13,864,38"/>
<area shape="rect" href="../../da/d0a/a00993.html#aaaec2fa95c931c069941083a90da44da" title=" " alt="" coords="452,13,643,38"/>
<area shape="poly" title=" " alt="" coords="676,28,643,28,643,23,676,23"/>
<area shape="rect" href="../../da/d0a/a00993.html#acb7ff6b8fba9aa977d405d2a815c7bac" title=" " alt="" coords="213,13,404,38"/>
<area shape="poly" title=" " alt="" coords="438,28,404,28,404,23,438,23"/>
<area shape="rect" href="../../db/dd5/a01833.html#a99102f508957658b71a65d2b3701dc35" title=" " alt="" coords="5,5,165,45"/>
<area shape="poly" title=" " alt="" coords="200,28,166,28,166,23,200,23"/>
</map>
</div>

</div>
</div>
<a id="aab3bb769c6b6c811049d99bf681e990e" name="aab3bb769c6b6c811049d99bf681e990e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3bb769c6b6c811049d99bf681e990e">&#9670;&#160;</a></span>icConvertUTF8toUTF32() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF8toUTF32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> **&#160;</td>
          <td class="paramname"><em>sourceStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> **&#160;</td>
          <td class="paramname"><em>targetStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> *&#160;</td>
          <td class="paramname"><em>targetEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  725</span>{</div>
<div class="line"><span class="lineno">  726</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  727</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a>* source = *sourceStart;</div>
<div class="line"><span class="lineno">  728</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a>* target = *targetStart;</div>
<div class="line"><span class="lineno">  729</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  730</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch = 0;</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> extraBytesToRead = <a class="code hl_variable" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a>[*source];</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">if</span> (source + extraBytesToRead &gt;= sourceEnd) {</div>
<div class="line"><span class="lineno">  733</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="line"><span class="lineno">  735</span>    <span class="comment">/* Do this check whether lenient or strict */</span></div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a>(source, extraBytesToRead+1)) {</div>
<div class="line"><span class="lineno">  737</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  738</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  739</span>    }</div>
<div class="line"><span class="lineno">  740</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  741</span><span class="comment">    * The cases all fall through. See &quot;Note A&quot; below.</span></div>
<div class="line"><span class="lineno">  742</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">switch</span> (extraBytesToRead) {</div>
<div class="line"><span class="lineno">  744</span>      <span class="keywordflow">case</span> 5: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  745</span>      <span class="keywordflow">case</span> 4: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  746</span>      <span class="keywordflow">case</span> 3: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  747</span>      <span class="keywordflow">case</span> 2: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  748</span>      <span class="keywordflow">case</span> 1: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  749</span>      <span class="keywordflow">case</span> 0: ch += *source++;</div>
<div class="line"><span class="lineno">  750</span>    }</div>
<div class="line"><span class="lineno">  751</span>    ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a>[extraBytesToRead];</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">if</span> (target &gt;= targetEnd) {</div>
<div class="line"><span class="lineno">  754</span>      source -= (extraBytesToRead+1); <span class="comment">/* Back up the source pointer! */</span></div>
<div class="line"><span class="lineno">  755</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a22d7628029ab488395e9802cc21d3d1b">targetExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  756</span>    }</div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {</div>
<div class="line"><span class="lineno">  758</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  759</span><span class="comment">      * UTF-16 surrogate values are illegal in UTF-32, and anything</span></div>
<div class="line"><span class="lineno">  760</span><span class="comment">      * over Plane 17 (&gt; 0x10FFFF) is illegal.</span></div>
<div class="line"><span class="lineno">  761</span><span class="comment">      */</span></div>
<div class="line"><span class="lineno">  762</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  763</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  764</span>          source -= (extraBytesToRead+1); <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  765</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  766</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  767</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  768</span>          *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  769</span>        }</div>
<div class="line"><span class="lineno">  770</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  771</span>        *target++ = ch;</div>
<div class="line"><span class="lineno">  772</span>      }</div>
<div class="line"><span class="lineno">  773</span>    } <span class="keywordflow">else</span> { <span class="comment">/* i.e., ch &gt; UNI_MAX_LEGAL_UTF32 */</span></div>
<div class="line"><span class="lineno">  774</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  775</span>      *target++ = <a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>;</div>
<div class="line"><span class="lineno">  776</span>    }</div>
<div class="line"><span class="lineno">  777</span>  }</div>
<div class="line"><span class="lineno">  778</span>  *sourceStart = source;</div>
<div class="line"><span class="lineno">  779</span>  *targetStart = target;</div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  781</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00446">isLegalUTF8()</a>, <a class="el" href="../../#l00275">offsetsFromUTF8</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, <a class="el" href="../../#l00121">targetExhausted</a>, and <a class="el" href="../../#l00259">trailingBytesForUTF8</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_aab3bb769c6b6c811049d99bf681e990e_cgraph.png" border="0" usemap="#ad5/ddf/a00224_aab3bb769c6b6c811049d99bf681e990e_cgraph" alt=""/></div>
<map name="ad5/ddf/a00224_aab3bb769c6b6c811049d99bf681e990e_cgraph" id="ad5/ddf/a00224_aab3bb769c6b6c811049d99bf681e990e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,179,31"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c" title=" " alt="" coords="227,5,329,31"/>
<area shape="poly" title=" " alt="" coords="179,15,213,15,213,21,179,21"/>
</map>
</div>

</div>
</div>
<a id="aa40b605d931bbc9599cf52bcdd4557ee" name="aa40b605d931bbc9599cf52bcdd4557ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa40b605d931bbc9599cf52bcdd4557ee">&#9670;&#160;</a></span>icConvertUTF8toUTF32() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> icConvertUTF8toUTF32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">icUtf32Vector &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbb">icUtfConversionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  785</span>{</div>
<div class="line"><span class="lineno">  786</span>  <a class="code hl_enumeration" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8">icUtfConversionResult</a> result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a52ace604d4b4bfdbb02699abcdfc5856">conversionOK</a>;</div>
<div class="line"><span class="lineno">  787</span>  target.clear();</div>
<div class="line"><span class="lineno">  788</span>  <span class="keywordflow">while</span> (source &lt; sourceEnd) {</div>
<div class="line"><span class="lineno">  789</span>    <a class="code hl_typedef" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> ch = 0;</div>
<div class="line"><span class="lineno">  790</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> extraBytesToRead = <a class="code hl_variable" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a>[*source];</div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">if</span> (source + extraBytesToRead &gt;= sourceEnd) {</div>
<div class="line"><span class="lineno">  792</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8aab3cce3e3d047a29ab541a1284763223">sourceExhausted</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">/* Do this check whether lenient or strict */</span></div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a>(source, extraBytesToRead+1)) {</div>
<div class="line"><span class="lineno">  796</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  797</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  798</span>    }</div>
<div class="line"><span class="lineno">  799</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  800</span><span class="comment">    * The cases all fall through. See &quot;Note A&quot; below.</span></div>
<div class="line"><span class="lineno">  801</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordflow">switch</span> (extraBytesToRead) {</div>
<div class="line"><span class="lineno">  803</span>      <span class="keywordflow">case</span> 5: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  804</span>      <span class="keywordflow">case</span> 4: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  805</span>      <span class="keywordflow">case</span> 3: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  806</span>      <span class="keywordflow">case</span> 2: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  807</span>      <span class="keywordflow">case</span> 1: ch += *source++; ch &lt;&lt;= 6;</div>
<div class="line"><span class="lineno">  808</span>      <span class="keywordflow">case</span> 0: ch += *source++;</div>
<div class="line"><span class="lineno">  809</span>    }</div>
<div class="line"><span class="lineno">  810</span>    ch -= <a class="code hl_variable" href="../../d5/ddf/a00224.html#af2f91e07d9adfd50e53dbbb38ba3245f">offsetsFromUTF8</a>[extraBytesToRead];</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">if</span> (ch &lt;= <a class="code hl_define" href="../../d3/d00/a00113.html#a98a2f50a1ca513613316ffd384dd1bfb">UNI_MAX_LEGAL_UTF32</a>) {</div>
<div class="line"><span class="lineno">  813</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  814</span><span class="comment">      * UTF-16 surrogate values are illegal in UTF-32, and anything</span></div>
<div class="line"><span class="lineno">  815</span><span class="comment">      * over Plane 17 (&gt; 0x10FFFF) is illegal.</span></div>
<div class="line"><span class="lineno">  816</span><span class="comment">      */</span></div>
<div class="line"><span class="lineno">  817</span>      <span class="keywordflow">if</span> (ch &gt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#a4ab84eb26356a90f3b7b9ac7aca1edfe">UNI_SUR_HIGH_START</a> &amp;&amp; ch &lt;= <a class="code hl_define" href="../../d5/ddf/a00224.html#ab9a531ffb73be79f7089049c1b84dc59">UNI_SUR_LOW_END</a>) {</div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">if</span> (flags == <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#afdfb6f5dac09ba1b8e138ad4f3a0abbba204e76a6d941d3c151696d05abeacd40">strictConversion</a>) {</div>
<div class="line"><span class="lineno">  819</span>          source -= (extraBytesToRead+1); <span class="comment">/* return to the illegal value itself */</span></div>
<div class="line"><span class="lineno">  820</span>          result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  821</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  822</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  823</span>          target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  826</span>        target.push_back(ch);</div>
<div class="line"><span class="lineno">  827</span>      }</div>
<div class="line"><span class="lineno">  828</span>    } <span class="keywordflow">else</span> { <span class="comment">/* i.e., ch &gt; UNI_MAX_LEGAL_UTF32 */</span></div>
<div class="line"><span class="lineno">  829</span>      result = <a class="code hl_enumvalue" href="../../d3/d00/a00113.html#a857080450603c118c1f820f96e2c61d8a42f7df28717a1aaf7cbb89c8d907b631">sourceIllegal</a>;</div>
<div class="line"><span class="lineno">  830</span>      target.push_back(<a class="code hl_define" href="../../d3/d00/a00113.html#a44b240b95a93f71535c03f5e26d7dbe1">UNI_REPLACEMENT_CHAR</a>);</div>
<div class="line"><span class="lineno">  831</span>    }</div>
<div class="line"><span class="lineno">  832</span>  }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  835</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00119">conversionOK</a>, <a class="el" href="../../#l00446">isLegalUTF8()</a>, <a class="el" href="../../#l00275">offsetsFromUTF8</a>, <a class="el" href="../../#l00120">sourceExhausted</a>, <a class="el" href="../../#l00122">sourceIllegal</a>, <a class="el" href="../../#l00126">strictConversion</a>, and <a class="el" href="../../#l00259">trailingBytesForUTF8</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_aa40b605d931bbc9599cf52bcdd4557ee_cgraph.png" border="0" usemap="#ad5/ddf/a00224_aa40b605d931bbc9599cf52bcdd4557ee_cgraph" alt=""/></div>
<map name="ad5/ddf/a00224_aa40b605d931bbc9599cf52bcdd4557ee_cgraph" id="ad5/ddf/a00224_aa40b605d931bbc9599cf52bcdd4557ee_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,179,31"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c" title=" " alt="" coords="227,5,329,31"/>
<area shape="poly" title=" " alt="" coords="179,15,213,15,213,21,179,21"/>
</map>
</div>

</div>
</div>
<a id="a000e02e8d4016b5346f8075851662f73" name="a000e02e8d4016b5346f8075851662f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000e02e8d4016b5346f8075851662f73">&#9670;&#160;</a></span>icIsLegalUTF8Sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d00/a00113.html#adaac7155d04f98cee33773208b61f3f8">Boolean</a> icIsLegalUTF8Sequence </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>sourceEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  479</span>{</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordtype">int</span> length = <a class="code hl_variable" href="../../d5/ddf/a00224.html#a2827254e79699e0e1a4ef1f510e2262a">trailingBytesForUTF8</a>[*source]+1;</div>
<div class="line"><span class="lineno">  481</span>  <span class="keywordflow">if</span> (source+length &gt; sourceEnd) {</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  483</span>  }</div>
<div class="line"><span class="lineno">  484</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c">isLegalUTF8</a>(source, length);</div>
<div class="line"><span class="lineno">  485</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00446">isLegalUTF8()</a>, and <a class="el" href="../../#l00259">trailingBytesForUTF8</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a000e02e8d4016b5346f8075851662f73_cgraph.png" border="0" usemap="#ad5/ddf/a00224_a000e02e8d4016b5346f8075851662f73_cgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a000e02e8d4016b5346f8075851662f73_cgraph" id="ad5/ddf/a00224_a000e02e8d4016b5346f8075851662f73_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,31"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a3a0d41e6f13988419ab99d6a14719a8c" title=" " alt="" coords="229,5,332,31"/>
<area shape="poly" title=" " alt="" coords="182,15,216,15,216,21,182,21"/>
</map>
</div>

</div>
</div>
<a id="a3a0d41e6f13988419ab99d6a14719a8c" name="a3a0d41e6f13988419ab99d6a14719a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a0d41e6f13988419ab99d6a14719a8c">&#9670;&#160;</a></span>isLegalUTF8()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d00/a00113.html#adaac7155d04f98cee33773208b61f3f8">Boolean</a> isLegalUTF8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  447</span>{</div>
<div class="line"><span class="lineno">  448</span>  <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> a;</div>
<div class="line"><span class="lineno">  449</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> *srcptr = source+length;</div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordflow">switch</span> (length) {</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  452</span>      <span class="comment">/* Everything else falls through when &quot;true&quot;... */</span></div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">case</span> 4: <span class="keywordflow">if</span> ((a = (*--srcptr)) &lt; 0x80 || a &gt; 0xBF) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">case</span> 3: <span class="keywordflow">if</span> ((a = (*--srcptr)) &lt; 0x80 || a &gt; 0xBF) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">case</span> 2: <span class="keywordflow">if</span> ((a = (*--srcptr)) &gt; 0xBF) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>      <span class="keywordflow">switch</span> (*source) {</div>
<div class="line"><span class="lineno">  458</span>            <span class="comment">/* no fall-through in this inner switch */</span></div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">case</span> 0xE0: <span class="keywordflow">if</span> (a &lt; 0xA0) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">case</span> 0xED: <span class="keywordflow">if</span> (a &gt; 0x9F) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">case</span> 0xF0: <span class="keywordflow">if</span> (a &lt; 0x90) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">case</span> 0xF4: <span class="keywordflow">if</span> (a &gt; 0x8F) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">default</span>:   <span class="keywordflow">if</span> (a &lt; 0x80) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  464</span>      }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">case</span> 1: <span class="keywordflow">if</span> (*source &gt;= 0x80 &amp;&amp; *source &lt; 0xC2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  467</span>  }</div>
<div class="line"><span class="lineno">  468</span>  <span class="keywordflow">if</span> (*source &gt; 0xF4) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  469</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  470</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00723">icConvertUTF8toUTF32()</a>, <a class="el" href="../../#l00783">icConvertUTF8toUTF32()</a>, and <a class="el" href="../../#l00478">icIsLegalUTF8Sequence()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/ddf/a00224_a3a0d41e6f13988419ab99d6a14719a8c_icgraph.png" border="0" usemap="#ad5/ddf/a00224_a3a0d41e6f13988419ab99d6a14719a8c_icgraph" alt=""/></div>
<map name="ad5/ddf/a00224_a3a0d41e6f13988419ab99d6a14719a8c_icgraph" id="ad5/ddf/a00224_a3a0d41e6f13988419ab99d6a14719a8c_icgraph">
<area shape="rect" title=" " alt="" coords="975,371,1077,397"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a7cdda5a4721eb3c925fa76a61bf20759" title=" " alt="" coords="752,261,925,286"/>
<area shape="poly" title=" " alt="" coords="998,364,965,338,925,312,875,288,878,284,928,307,968,333,1002,360"/>
<area shape="rect" href="../../d5/ddf/a00224.html#aba9670456b509347318b577d427c2a40" title=" " alt="" coords="752,322,925,347"/>
<area shape="poly" title=" " alt="" coords="963,370,887,350,889,345,965,365"/>
<area shape="rect" href="../../d5/ddf/a00224.html#aab3bb769c6b6c811049d99bf681e990e" title=" " alt="" coords="752,371,925,397"/>
<area shape="poly" title=" " alt="" coords="961,387,926,387,926,381,961,381"/>
<area shape="rect" href="../../d5/ddf/a00224.html#aa40b605d931bbc9599cf52bcdd4557ee" title=" " alt="" coords="752,421,925,446"/>
<area shape="poly" title=" " alt="" coords="965,403,889,423,887,418,963,398"/>
<area shape="rect" href="../../d5/ddf/a00224.html#a000e02e8d4016b5346f8075851662f73" title=" " alt="" coords="751,470,927,495"/>
<area shape="poly" title=" " alt="" coords="1003,408,969,436,928,461,899,472,897,467,925,456,966,431,1000,404"/>
<area shape="rect" href="../../db/ddd/a02089.html#a5209999d2313fd5b19d6832fb90ee9d5" title=" " alt="" coords="496,133,703,173"/>
<area shape="poly" title=" " alt="" coords="799,257,639,176,642,171,801,252"/>
<area shape="rect" href="../../db/ddd/a02089.html#a6974e5dc49b8069799812361ae3d764d" title=" " alt="" coords="500,261,699,286"/>
<area shape="poly" title=" " alt="" coords="738,276,699,276,699,271,738,271"/>
<area shape="rect" href="../../d7/db1/a01837.html#a90eeefd13346d44fe87970c91ca28287" title=" " alt="" coords="247,5,446,45"/>
<area shape="poly" title=" " alt="" coords="559,127,507,93,447,60,418,48,420,43,449,55,509,88,562,123"/>
<area shape="rect" href="../../d7/d9c/a01885.html#adcb1238d1761fc5a61a03df9bcdfa18e" title=" " alt="" coords="251,69,442,109"/>
<area shape="poly" title=" " alt="" coords="506,132,425,112,427,107,507,127"/>
<area shape="rect" href="../../d2/d23/a01961.html#afbaaee340011d5bd09960d699d352e14" title=" " alt="" coords="246,133,447,173"/>
<area shape="poly" title=" " alt="" coords="482,156,448,156,448,151,482,151"/>
<area shape="rect" href="../../d6/d9a/a01965.html#a88c29060c9f89f8b6033dcb3a535d4d4" title=" " alt="" coords="5,245,197,270"/>
<area shape="poly" title=" " alt="" coords="492,179,449,188,165,247,164,242,447,183,491,174"/>
<area shape="rect" href="../../d5/d35/a00266.html#a7e9c5de46dd2e23ed3ce85f7802cae12" title=" " alt="" coords="291,249,402,274"/>
<area shape="poly" title=" " alt="" coords="486,271,402,267,402,261,487,265"/>
<area shape="rect" href="../../db/ddd/a02089.html#a05e4b7cdf12723b5678b08107235a2bd" title=" " alt="" coords="245,298,448,323"/>
<area shape="poly" title=" " alt="" coords="500,291,434,301,433,295,499,285"/>
<area shape="poly" title=" " alt="" coords="273,298,160,273,161,267,274,292"/>
<area shape="rect" href="../../da/d0a/a00993.html#aaaec2fa95c931c069941083a90da44da" title=" " alt="" coords="504,334,695,359"/>
<area shape="poly" title=" " alt="" coords="738,342,695,345,695,339,738,337"/>
<area shape="rect" href="../../da/d0a/a00993.html#acb7ff6b8fba9aa977d405d2a815c7bac" title=" " alt="" coords="251,347,442,373"/>
<area shape="poly" title=" " alt="" coords="491,355,442,358,442,352,490,350"/>
<area shape="rect" href="../../db/dd5/a01833.html#a99102f508957658b71a65d2b3701dc35" title=" " alt="" coords="21,340,181,380"/>
<area shape="poly" title=" " alt="" coords="238,363,181,363,181,357,238,357"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a84be1e52702338d8e7aaeb1c2da2b375" name="a84be1e52702338d8e7aaeb1c2da2b375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84be1e52702338d8e7aaeb1c2da2b375">&#9670;&#160;</a></span>firstByteMark</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d00/a00113.html#aafe543c40e242c865f970b57a29122ab">UTF8</a> firstByteMark[7] = { 0x00, 0x00, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  285</span>{ 0x00, 0x00, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00299">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00367">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00622">icConvertUTF32toUTF8()</a>, and <a class="el" href="../../#l00673">icConvertUTF32toUTF8()</a>.</p>

</div>
</div>
<a id="a8e6fc083a9b22a0116b35c73a50b8c18" name="a8e6fc083a9b22a0116b35c73a50b8c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6fc083a9b22a0116b35c73a50b8c18">&#9670;&#160;</a></span>halfBase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> halfBase = 0x0010000UL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00147">icConvertUTF16toUTF32()</a>, <a class="el" href="../../#l00202">icConvertUTF16toUTF32()</a>, <a class="el" href="../../#l00299">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00367">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00061">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00108">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, and <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>.</p>

</div>
</div>
<a id="a3eb375b25f02aaecedb92086ff2a7af3" name="a3eb375b25f02aaecedb92086ff2a7af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb375b25f02aaecedb92086ff2a7af3">&#9670;&#160;</a></span>halfMask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> halfMask = 0x3FFUL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00061">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00108">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, and <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>.</p>

</div>
</div>
<a id="a9023510776bb97137517b59d39edbc3a" name="a9023510776bb97137517b59d39edbc3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9023510776bb97137517b59d39edbc3a">&#9670;&#160;</a></span>halfShift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int halfShift = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00147">icConvertUTF16toUTF32()</a>, <a class="el" href="../../#l00202">icConvertUTF16toUTF32()</a>, <a class="el" href="../../#l00299">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00367">icConvertUTF16toUTF8()</a>, <a class="el" href="../../#l00061">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00108">icConvertUTF32toUTF16()</a>, <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, and <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>.</p>

</div>
</div>
<a id="af2f91e07d9adfd50e53dbbb38ba3245f" name="af2f91e07d9adfd50e53dbbb38ba3245f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f91e07d9adfd50e53dbbb38ba3245f">&#9670;&#160;</a></span>offsetsFromUTF8</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d00/a00113.html#a712315a25692d905402a2f4db0ed622d">UTF32</a> offsetsFromUTF8[6]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { 0x00000000UL, 0x00003080UL, 0x000E2080UL, </div>
<div class="line">0x03C82080UL, 0xFA082080UL, 0x82082080UL }</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno">  275</span>                                        { 0x00000000UL, 0x00003080UL, 0x000E2080UL, </div>
<div class="line"><span class="lineno">  276</span>0x03C82080UL, 0xFA082080UL, 0x82082080UL };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00723">icConvertUTF8toUTF32()</a>, and <a class="el" href="../../#l00783">icConvertUTF8toUTF32()</a>.</p>

</div>
</div>
<a id="a2827254e79699e0e1a4ef1f510e2262a" name="a2827254e79699e0e1a4ef1f510e2262a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2827254e79699e0e1a4ef1f510e2262a">&#9670;&#160;</a></span>trailingBytesForUTF8</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char trailingBytesForUTF8[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line">  1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,</div>
<div class="line">  2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2, 3,3,3,3,3,3,3,3,4,4,4,4,5,5,5,5</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno">  259</span>                                              {</div>
<div class="line"><span class="lineno">  260</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  261</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  262</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  263</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  264</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  265</span>  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</div>
<div class="line"><span class="lineno">  266</span>  1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,</div>
<div class="line"><span class="lineno">  267</span>  2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2, 3,3,3,3,3,3,3,3,4,4,4,4,5,5,5,5</div>
<div class="line"><span class="lineno">  268</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00489">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00560">icConvertUTF8toUTF16()</a>, <a class="el" href="../../#l00723">icConvertUTF8toUTF32()</a>, <a class="el" href="../../#l00783">icConvertUTF8toUTF32()</a>, and <a class="el" href="../../#l00478">icIsLegalUTF8Sequence()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d77fd0a8c197a6b09c227b53322d11bd.html">IccProfLib</a></li><li class="navelem"><a class="el" href="../../d5/ddf/a00224.html">IccConvertUTF.cpp</a></li>
    <li class="footer">Generated on Wed Jul 30 2025 15:11:11 for iccDEV by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
