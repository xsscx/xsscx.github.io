<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iccDEV: CIccApplyBPC Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iccDEV<span id="projectnumber">&#160;2.2.61</span>
   </div>
   <div id="projectbrief">iccDEV Tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/de3/a00373.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle"><div class="title">CIccApplyBPC Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">IccApplyBPC.h</a>&gt;</code></p>

<p>Inherits IIccAdjustPCSXform.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aba0ac42eacdd0babc152d826facea17f" id="r_aba0ac42eacdd0babc152d826facea17f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f">CalcFactors</a> (const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile, const CIccXform *pXfm, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *Scale, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *Offset) const</td></tr>
<tr class="separator:aba0ac42eacdd0babc152d826facea17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a99c6a4c883642b21117eac2d0683f1b9" id="r_a99c6a4c883642b21117eac2d0683f1b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9">calcBlackPoint</a> (const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile, const CIccXform *pXform, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *XYZb) const</td></tr>
<tr class="separator:a99c6a4c883642b21117eac2d0683f1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd921c5b7b19fab503ec1c655ba1f16" id="r_a6fd921c5b7b19fab503ec1c655ba1f16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16">calcDstBlackPoint</a> (const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile, const CIccXform *pXform, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *XYZb) const</td></tr>
<tr class="separator:a6fd921c5b7b19fab503ec1c655ba1f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee616f7ef1a37901f133204fd93f622e" id="r_aee616f7ef1a37901f133204fd93f622e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e">calcQuadraticVertex</a> (<a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *x, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *y, int n) const</td></tr>
<tr class="separator:aee616f7ef1a37901f133204fd93f622e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c83e198a8f80b7507b99304f091cb8" id="r_a66c83e198a8f80b7507b99304f091cb8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">calcSrcBlackPoint</a> (const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile, const CIccXform *pXform, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *XYZb) const</td></tr>
<tr class="separator:a66c83e198a8f80b7507b99304f091cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce7ace7c9882b32d59761d9dc12c680" id="r_acce7ace7c9882b32d59761d9dc12c680"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a> (<a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *x, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *y, int n, int j, int k) const</td></tr>
<tr class="separator:acce7ace7c9882b32d59761d9dc12c680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f077a6c2e8ba9c67cd0664c7153852" id="r_a84f077a6c2e8ba9c67cd0664c7153852"><td class="memItemLeft" align="right" valign="top">CIccCmm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852">getBlackXfm</a> (<a class="el" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a> nIntent, const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile) const</td></tr>
<tr class="separator:a84f077a6c2e8ba9c67cd0664c7153852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80fbca34d4b78619142ac5e7a084ff7" id="r_ad80fbca34d4b78619142ac5e7a084ff7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a> (<a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *pixel, const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile) const</td></tr>
<tr class="separator:ad80fbca34d4b78619142ac5e7a084ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a30fe32707679ca3612c51cf19698c3" id="r_a7a30fe32707679ca3612c51cf19698c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a> (<a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *pixel, const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile) const</td></tr>
<tr class="separator:a7a30fe32707679ca3612c51cf19698c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76813b4f746bd1da4406dcdd7aef72ed" id="r_a76813b4f746bd1da4406dcdd7aef72ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed">pixelXfm</a> (<a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *DstPixel, <a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *SrcPixel, <a class="el" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917">icColorSpaceSignature</a> SrcSpace, <a class="el" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a> nIntent, const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *pProfile) const</td></tr>
<tr class="separator:a76813b4f746bd1da4406dcdd7aef72ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Type: Class</p>
<p>Purpose: This is the hint for applying black point compensation. Also does the calculations to setup actual application of BPC. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a99c6a4c883642b21117eac2d0683f1b9" name="a99c6a4c883642b21117eac2d0683f1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c6a4c883642b21117eac2d0683f1b9">&#9670;&#160;</a></span>calcBlackPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIccApplyBPC::calcBlackPoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CIccXform *&#160;</td>
          <td class="paramname"><em>pXform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>XYZb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: <a class="el" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9">CIccApplyBPC::calcBlackPoint</a></p>
<p>Purpose: Calculates the black point of a profile </p>
<div class="fragment"><div class="line"><span class="lineno">  270</span>{</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> (pXform-&gt;IsInput()) { <span class="comment">// profile used as input/source profile</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">calcSrcBlackPoint</a>(pProfile, pXform, XYZb);</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">else</span> { <span class="comment">// profile used as output profile</span></div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16">calcDstBlackPoint</a>(pProfile, pXform, XYZb);</div>
<div class="line"><span class="lineno">  276</span>    }</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="aa00373_html_a66c83e198a8f80b7507b99304f091cb8"><div class="ttname"><a href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">CIccApplyBPC::calcSrcBlackPoint</a></div><div class="ttdeci">bool calcSrcBlackPoint(const CIccProfile *pProfile, const CIccXform *pXform, icFloatNumber *XYZb) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:290</div></div>
<div class="ttc" id="aa00373_html_a6fd921c5b7b19fab503ec1c655ba1f16"><div class="ttname"><a href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16">CIccApplyBPC::calcDstBlackPoint</a></div><div class="ttdeci">bool calcDstBlackPoint(const CIccProfile *pProfile, const CIccXform *pXform, icFloatNumber *XYZb) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:379</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00379">calcDstBlackPoint()</a>, and <a class="el" href="../../#l00290">calcSrcBlackPoint()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00213">CalcFactors()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_cgraph.png" border="0" usemap="#adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_cgraph" alt=""/></div>
<map name="adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_cgraph" id="adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_cgraph">
<area shape="rect" title=" " alt="" coords="5,203,220,228"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="268,223,472,263"/>
<area shape="poly" title=" " alt="" coords="220,224,255,228,254,233,220,230"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="523,90,726,130"/>
<area shape="poly" title=" " alt="" coords="175,200,512,130,513,135,176,205"/>
<area shape="rect" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e" title=" " alt="" coords="520,306,729,346"/>
<area shape="poly" title=" " alt="" coords="433,261,550,299,548,304,432,266"/>
<area shape="poly" title=" " alt="" coords="398,221,453,184,519,146,550,133,552,137,521,151,455,189,401,225"/>
<area shape="rect" href="../../d5/db1/a00140.html#aaae59bc2559c55e8d7305a09b53690c2" title=" " alt="" coords="1013,155,1107,180"/>
<area shape="poly" title=" " alt="" coords="472,230,999,171,999,177,472,235"/>
<area shape="rect" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7" title=" " alt="" coords="781,104,952,129"/>
<area shape="poly" title=" " alt="" coords="436,221,519,197,795,130,796,135,521,202,437,226"/>
<area shape="rect" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3" title=" " alt="" coords="781,256,952,281"/>
<area shape="poly" title=" " alt="" coords="473,246,768,261,768,266,472,251"/>
<area shape="rect" href="../../d5/db1/a00140.html#aef9dd96318302c6f4f7ee703131b52dc" title=" " alt="" coords="1013,353,1107,379"/>
<area shape="poly" title=" " alt="" coords="391,261,445,312,481,337,521,356,585,373,651,385,718,391,783,393,904,386,999,374,999,380,905,392,784,398,717,396,650,390,583,379,519,360,479,341,442,316,387,265"/>
<area shape="rect" href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852" title=" " alt="" coords="523,421,727,447"/>
<area shape="poly" title=" " alt="" coords="387,262,441,330,479,367,521,400,552,414,550,419,519,404,475,371,437,333,383,265"/>
<area shape="rect" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680" title=" " alt="" coords="779,313,954,339"/>
<area shape="poly" title=" " alt="" coords="730,323,766,323,766,329,730,329"/>
<area shape="rect" href="../../d5/db1/a00140.html#a58a42edd6e2e756a705923c8292d9062" title=" " alt="" coords="791,5,942,31"/>
<area shape="poly" title=" " alt="" coords="665,87,776,40,799,32,801,37,778,44,667,92"/>
<area shape="poly" title=" " alt="" coords="713,127,778,139,896,153,999,161,999,167,895,159,777,145,712,133"/>
<area shape="poly" title=" " alt="" coords="726,110,768,111,768,117,726,115"/>
<area shape="poly" title=" " alt="" coords="658,128,836,246,833,250,655,132"/>
<area shape="rect" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed" title=" " alt="" coords="777,55,956,80"/>
<area shape="poly" title=" " alt="" coords="726,90,780,80,781,85,727,95"/>
<area shape="rect" href="../../d5/db1/a00140.html#a350c29e4046a24ff35f3bad20f96e2ca" title=" " alt="" coords="1015,5,1105,31"/>
<area shape="poly" title=" " alt="" coords="942,15,1001,15,1001,21,942,21"/>
<area shape="rect" href="../../d5/db1/a00140.html#a6f807e9c25c22459cccbe4802fc0c9b0" title=" " alt="" coords="1164,155,1247,180"/>
<area shape="poly" title=" " alt="" coords="1108,165,1150,165,1150,170,1108,170"/>
<area shape="poly" title=" " alt="" coords="917,127,1000,149,999,154,915,132"/>
<area shape="rect" href="../../d5/db1/a00140.html#a9d816d39227aaac83f678eb981cbfe57" title=" " alt="" coords="1014,104,1106,129"/>
<area shape="poly" title=" " alt="" coords="952,114,1000,114,1000,119,952,119"/>
<area shape="rect" href="../../d5/db1/a00140.html#a233b0ecd2624ca94069315c815b8c0a7" title=" " alt="" coords="1013,55,1107,80"/>
<area shape="poly" title=" " alt="" coords="916,101,999,80,1001,85,918,107"/>
<area shape="rect" href="../../d5/db1/a00140.html#a7a615b1ddb9ba5e883983dae40bbbb73" title="Here are some conversion routines to convert to regular Lab encoding." alt="" coords="1005,223,1115,248"/>
<area shape="poly" title=" " alt="" coords="940,253,991,245,992,250,941,259"/>
<area shape="rect" href="../../d5/db1/a00140.html#a3cbef1cbb090376bd6bde159b0d62384" title="Here are some conversion routines to convert to regular XYZ encoding." alt="" coords="1004,272,1116,297"/>
<area shape="poly" title=" " alt="" coords="952,273,991,276,990,282,952,278"/>
<area shape="poly" title=" " alt="" coords="907,279,957,300,1031,343,1028,348,955,304,905,284"/>
<area shape="rect" href="../../d5/db1/a00140.html#a26f2164439cde086fc6d77d110718154" title=" " alt="" coords="1166,353,1245,379"/>
<area shape="poly" title=" " alt="" coords="1108,363,1152,363,1152,369,1108,369"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_icgraph.png" border="0" usemap="#adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_icgraph" id="adc/de3/a00373_a99c6a4c883642b21117eac2d0683f1b9_icgraph">
<area shape="rect" title=" " alt="" coords="248,5,463,31"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,5,200,31"/>
<area shape="poly" title=" " alt="" coords="235,21,200,21,200,15,235,15"/>
</map>
</div>

</div>
</div>
<a id="a6fd921c5b7b19fab503ec1c655ba1f16" name="a6fd921c5b7b19fab503ec1c655ba1f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd921c5b7b19fab503ec1c655ba1f16">&#9670;&#160;</a></span>calcDstBlackPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIccApplyBPC::calcDstBlackPoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CIccXform *&#160;</td>
          <td class="paramname"><em>pXform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>XYZb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: <a class="el" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16">CIccApplyBPC::calcDstBlackPoint</a></p>
<p>Purpose: Calculates the black point of a destination profile </p>
<div class="fragment"><div class="line"><span class="lineno">  380</span>{</div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_enumeration" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a> nIntent = pXform-&gt;GetIntent();</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> Pixel[3];</div>
<div class="line"><span class="lineno">  383</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> pcsPixel[3];</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">// check if the profile is lut based gray, rgb or cmyk</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> (pProfile-&gt;IsTagPresent(<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ac82636cc27ba918bd737e94a62715af5a78413df8b7d634ae4e0ec02f006e5bd0">icSigBToA0Tag</a>) &amp;&amp; </div>
<div class="line"><span class="lineno">  387</span>            (pProfile-&gt;m_Header.colorSpace==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af4c6afaa42216765b0431ec6ae0ba27c">icSigGrayData</a> || pProfile-&gt;m_Header.colorSpace==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ad0e9fe12d5f79f3a3b8b15be31288a30">icSigRgbData</a> || pProfile-&gt;m_Header.colorSpace==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661">icSigCmykData</a>))</div>
<div class="line"><span class="lineno">  388</span>    { <span class="comment">// do the complicated and lengthy black point estimation</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>        <span class="comment">// get the black transform</span></div>
<div class="line"><span class="lineno">  391</span>        CIccCmm* pCmm = <a class="code hl_function" href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852">getBlackXfm</a>(nIntent, pProfile);</div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordflow">if</span> (!pCmm) {</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  394</span>        }</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>        <span class="comment">// set the initial Lab</span></div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> iniLab[3] = {0.0, 0.0, 0.0};</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        <span class="comment">// calculate minL</span></div>
<div class="line"><span class="lineno">  400</span>        pcsPixel[0] = 0.0;</div>
<div class="line"><span class="lineno">  401</span>        pcsPixel[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  402</span>        pcsPixel[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  403</span>        <a class="code hl_function" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a>(pcsPixel, pProfile);</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> (pCmm-&gt;Apply(Pixel, pcsPixel)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  405</span>            <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  407</span>        }</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_function" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a>(Pixel, pProfile);</div>
<div class="line"><span class="lineno">  409</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> MinL = Pixel[0];</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>        <span class="comment">// calculate MaxL</span></div>
<div class="line"><span class="lineno">  412</span>        pcsPixel[0] = 100.0;</div>
<div class="line"><span class="lineno">  413</span>        pcsPixel[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  414</span>        pcsPixel[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  415</span>        <a class="code hl_function" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a>(pcsPixel, pProfile);</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">if</span> (pCmm-&gt;Apply(Pixel, pcsPixel)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  417</span>            <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  419</span>        }</div>
<div class="line"><span class="lineno">  420</span>        <a class="code hl_function" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a>(Pixel, pProfile);</div>
<div class="line"><span class="lineno">  421</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> MaxL = Pixel[0];</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>        <span class="comment">// check if quadratic estimation needs to be done</span></div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordtype">bool</span> bStraightMidRange = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <span class="comment">// if the intent is relative</span></div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">if</span> (nIntent==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a64d6354071e8f3d7b461202675e755cb">icRelativeColorimetric</a>)</div>
<div class="line"><span class="lineno">  428</span>        { </div>
<div class="line"><span class="lineno">  429</span>            <span class="comment">// calculate initial Lab as source black point</span></div>
<div class="line"><span class="lineno">  430</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">calcSrcBlackPoint</a>(pProfile, pXform, iniLab)) {</div>
<div class="line"><span class="lineno">  431</span>                <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  432</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  433</span>            }</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>            <span class="comment">// convert the XYZ to lab</span></div>
<div class="line"><span class="lineno">  436</span>            <a class="code hl_function" href="../../d7/dce/a00143.html#a4ff45349385af6c19d5b3f68150a27b5">icXYZtoLab</a>(iniLab);</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>            <span class="comment">// check mid range L* values</span></div>
<div class="line"><span class="lineno">  439</span>            <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> lcnt=0.0, roundtripL;</div>
<div class="line"><span class="lineno">  440</span>            bStraightMidRange = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">while</span> (lcnt&lt;100.1)</div>
<div class="line"><span class="lineno">  442</span>            {</div>
<div class="line"><span class="lineno">  443</span>                pcsPixel[0] = <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>(lcnt);</div>
<div class="line"><span class="lineno">  444</span>                pcsPixel[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  445</span>                pcsPixel[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  446</span>                <a class="code hl_function" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a>(pcsPixel, pProfile);</div>
<div class="line"><span class="lineno">  447</span>                <span class="keywordflow">if</span> (pCmm-&gt;Apply(Pixel, pcsPixel)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  448</span>                    <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  449</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  450</span>                }</div>
<div class="line"><span class="lineno">  451</span>                <a class="code hl_function" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a>(Pixel, pProfile);</div>
<div class="line"><span class="lineno">  452</span>                roundtripL = Pixel[0];</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>                <span class="keywordflow">if</span> (roundtripL&gt;(MinL + 0.2 * (MaxL - MinL))) {</div>
<div class="line"><span class="lineno">  455</span>                    <span class="keywordflow">if</span> (fabs(roundtripL - lcnt)&gt;4.0) {</div>
<div class="line"><span class="lineno">  456</span>                        bStraightMidRange = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  457</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  458</span>                    }</div>
<div class="line"><span class="lineno">  459</span>                }</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>                lcnt += 1.0;</div>
<div class="line"><span class="lineno">  462</span>            }</div>
<div class="line"><span class="lineno">  463</span>        }</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>        <span class="comment">// quadratic estimation is not needed</span></div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">if</span> (bStraightMidRange) { <span class="comment">// initial Lab is the destination black point</span></div>
<div class="line"><span class="lineno">  467</span>            XYZb[0] = iniLab[0];</div>
<div class="line"><span class="lineno">  468</span>            XYZb[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  469</span>            XYZb[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  470</span>            <a class="code hl_function" href="../../d7/dce/a00143.html#aaf617b49cf0d56a218cd52c840228705">icLabtoXYZ</a>(XYZb);</div>
<div class="line"><span class="lineno">  471</span>            <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  473</span>        }</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        <span class="comment">// find the black point using the least squares error quadratic curve fitting</span></div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="comment">// calculate y values</span></div>
<div class="line"><span class="lineno">  478</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> x[101], y[101];</div>
<div class="line"><span class="lineno">  479</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> lo=0.03f, hi=0.25f;</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordtype">int</span> i, n;</div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (nIntent==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a64d6354071e8f3d7b461202675e755cb">icRelativeColorimetric</a>) {</div>
<div class="line"><span class="lineno">  482</span>            lo = 0.1f;</div>
<div class="line"><span class="lineno">  483</span>            hi = 0.5f;</div>
<div class="line"><span class="lineno">  484</span>        }</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">for</span> (i=0; i&lt;101; i++) {</div>
<div class="line"><span class="lineno">  487</span>            x[i] = <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>(i);</div>
<div class="line"><span class="lineno">  488</span>            pcsPixel[0] = x[i];</div>
<div class="line"><span class="lineno">  489</span>            pcsPixel[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  490</span>            pcsPixel[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  491</span>            <a class="code hl_function" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a>(pcsPixel, pProfile);</div>
<div class="line"><span class="lineno">  492</span>            <span class="keywordflow">if</span> (pCmm-&gt;Apply(Pixel, pcsPixel)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  493</span>                <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  494</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  495</span>            }</div>
<div class="line"><span class="lineno">  496</span>            <a class="code hl_function" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a>(Pixel, pProfile);</div>
<div class="line"><span class="lineno">  497</span>            y[i] = (Pixel[0] - MinL)/(MaxL - MinL);</div>
<div class="line"><span class="lineno">  498</span>        }</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>        <span class="comment">// check for y values in the range and rearrange</span></div>
<div class="line"><span class="lineno">  501</span>        n = 0;</div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">for</span> (i=0; i&lt;101; i++) {</div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">if</span> (y[i]&gt;=lo &amp;&amp; y[i]&lt;hi) {</div>
<div class="line"><span class="lineno">  504</span>                x[n] = x[i];</div>
<div class="line"><span class="lineno">  505</span>                y[n] = y[i];</div>
<div class="line"><span class="lineno">  506</span>                n++;</div>
<div class="line"><span class="lineno">  507</span>            }</div>
<div class="line"><span class="lineno">  508</span>        }</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">  511</span>            <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  513</span>        }</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>        <span class="comment">// fit and get the vertex of quadratic curve</span></div>
<div class="line"><span class="lineno">  516</span>        XYZb[0] = <a class="code hl_function" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e">calcQuadraticVertex</a>(x, y, n);</div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordflow">if</span> (XYZb[0]&lt;0.0) { <span class="comment">// clip to zero L* if the vertex is negative</span></div>
<div class="line"><span class="lineno">  518</span>            XYZb[0] = 0.0;</div>
<div class="line"><span class="lineno">  519</span>        }</div>
<div class="line"><span class="lineno">  520</span>        XYZb[1] = iniLab[1];</div>
<div class="line"><span class="lineno">  521</span>        XYZb[2] = iniLab[2];</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#aaf617b49cf0d56a218cd52c840228705">icLabtoXYZ</a>(XYZb);</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  525</span>    }</div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">else</span> { <span class="comment">// use the procedure for source black point</span></div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">calcSrcBlackPoint</a>(pProfile, pXform, XYZb);</div>
<div class="line"><span class="lineno">  528</span>    }</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  531</span>}</div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661">icSigCmykData</a></div><div class="ttdeci">@ icSigCmykData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:855</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917ad0e9fe12d5f79f3a3b8b15be31288a30"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ad0e9fe12d5f79f3a3b8b15be31288a30">icSigRgbData</a></div><div class="ttdeci">@ icSigRgbData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:851</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917af4c6afaa42216765b0431ec6ae0ba27c"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af4c6afaa42216765b0431ec6ae0ba27c">icSigGrayData</a></div><div class="ttdeci">@ icSigGrayData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:852</div></div>
<div class="ttc" id="aa00002_html_ac82636cc27ba918bd737e94a62715af5a78413df8b7d634ae4e0ec02f006e5bd0"><div class="ttname"><a href="../../d7/d46/a00002.html#ac82636cc27ba918bd737e94a62715af5a78413df8b7d634ae4e0ec02f006e5bd0">icSigBToA0Tag</a></div><div class="ttdeci">@ icSigBToA0Tag</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:374</div></div>
<div class="ttc" id="aa00002_html_ad596b62f264ef4846d435b494c8d2a77"><div class="ttname"><a href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a></div><div class="ttdeci">icRenderingIntent</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:1142</div></div>
<div class="ttc" id="aa00002_html_ad596b62f264ef4846d435b494c8d2a77a64d6354071e8f3d7b461202675e755cb"><div class="ttname"><a href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a64d6354071e8f3d7b461202675e755cb">icRelativeColorimetric</a></div><div class="ttdeci">@ icRelativeColorimetric</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:1144</div></div>
<div class="ttc" id="aa00026_html_aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099"><div class="ttname"><a href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a></div><div class="ttdeci">@ icCmmStatOk</div><div class="ttdef"><b>Definition</b> IccCmm.h:92</div></div>
<div class="ttc" id="aa00110_html_a2879c29939ce675796753098691799b2"><div class="ttname"><a href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a></div><div class="ttdeci">float icFloatNumber</div><div class="ttdef"><b>Definition</b> IccDefs.h:100</div></div>
<div class="ttc" id="aa00143_html_a4ff45349385af6c19d5b3f68150a27b5"><div class="ttname"><a href="../../d7/dce/a00143.html#a4ff45349385af6c19d5b3f68150a27b5">icXYZtoLab</a></div><div class="ttdeci">ICCPROFLIB_API void icXYZtoLab(icFloatNumber *Lab, const icFloatNumber *XYZ=NULL, const icFloatNumber *WhiteXYZ=NULL)</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:846</div></div>
<div class="ttc" id="aa00143_html_aaf617b49cf0d56a218cd52c840228705"><div class="ttname"><a href="../../d7/dce/a00143.html#aaf617b49cf0d56a218cd52c840228705">icLabtoXYZ</a></div><div class="ttdeci">ICCPROFLIB_API void icLabtoXYZ(icFloatNumber *XYZ, const icFloatNumber *Lab=NULL, const icFloatNumber *WhiteXYZ=NULL)</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:830</div></div>
<div class="ttc" id="aa00373_html_a7a30fe32707679ca3612c51cf19698c3"><div class="ttname"><a href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">CIccApplyBPC::pcs2lab</a></div><div class="ttdeci">void pcs2lab(icFloatNumber *pixel, const CIccProfile *pProfile) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:115</div></div>
<div class="ttc" id="aa00373_html_a84f077a6c2e8ba9c67cd0664c7153852"><div class="ttname"><a href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852">CIccApplyBPC::getBlackXfm</a></div><div class="ttdeci">CIccCmm * getBlackXfm(icRenderingIntent nIntent, const CIccProfile *pProfile) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:580</div></div>
<div class="ttc" id="aa00373_html_ad80fbca34d4b78619142ac5e7a084ff7"><div class="ttname"><a href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">CIccApplyBPC::lab2pcs</a></div><div class="ttdeci">void lab2pcs(icFloatNumber *pixel, const CIccProfile *pProfile) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:96</div></div>
<div class="ttc" id="aa00373_html_aee616f7ef1a37901f133204fd93f622e"><div class="ttname"><a href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e">CIccApplyBPC::calcQuadraticVertex</a></div><div class="ttdeci">icFloatNumber calcQuadraticVertex(icFloatNumber *x, icFloatNumber *y, int n) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:162</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00162">calcQuadraticVertex()</a>, <a class="el" href="../../#l00290">calcSrcBlackPoint()</a>, <a class="el" href="../../#l02048">icHeader::colorSpace</a>, <a class="el" href="../../#l00580">getBlackXfm()</a>, <a class="el" href="../../#l00092">icCmmStatOk</a>, <a class="el" href="../../#l00830">icLabtoXYZ()</a>, <a class="el" href="../../#l01144">icRelativeColorimetric</a>, <a class="el" href="../../#l00374">icSigBToA0Tag</a>, <a class="el" href="../../#l00855">icSigCmykData</a>, <a class="el" href="../../#l00852">icSigGrayData</a>, <a class="el" href="../../#l00851">icSigRgbData</a>, <a class="el" href="../../#l00846">icXYZtoLab()</a>, <a class="el" href="../../#l00096">lab2pcs()</a>, and <a class="el" href="../../#l00115">pcs2lab()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00269">calcBlackPoint()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_cgraph.png" border="0" usemap="#adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_cgraph" alt=""/></div>
<map name="adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_cgraph" id="adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_cgraph">
<area shape="rect" title=" " alt="" coords="5,264,209,304"/>
<area shape="rect" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e" title=" " alt="" coords="257,5,467,45"/>
<area shape="poly" title=" " alt="" coords="115,263,134,221,165,168,206,111,256,62,276,49,279,53,259,66,210,115,170,171,139,224,119,265"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="261,207,463,247"/>
<area shape="poly" title=" " alt="" coords="196,261,259,247,260,252,197,267"/>
<area shape="rect" href="../../d5/db1/a00140.html#aaae59bc2559c55e8d7305a09b53690c2" title=" " alt="" coords="750,173,845,198"/>
<area shape="poly" title=" " alt="" coords="136,262,191,227,256,192,382,137,439,120,514,105,606,89,646,91,694,106,711,116,721,129,729,142,743,155,756,164,753,168,740,159,725,145,717,132,707,120,692,110,645,96,606,94,515,111,440,125,383,142,258,197,194,232,139,266"/>
<area shape="rect" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7" title=" " alt="" coords="519,271,689,297"/>
<area shape="poly" title=" " alt="" coords="210,281,505,281,505,287,210,287"/>
<area shape="rect" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3" title=" " alt="" coords="519,322,689,347"/>
<area shape="poly" title=" " alt="" coords="210,292,505,322,505,327,210,297"/>
<area shape="rect" href="../../d5/db1/a00140.html#aef9dd96318302c6f4f7ee703131b52dc" title=" " alt="" coords="750,419,845,445"/>
<area shape="poly" title=" " alt="" coords="177,301,258,323,525,380,737,419,736,424,524,385,257,328,176,307"/>
<area shape="rect" href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852" title=" " alt="" coords="260,423,464,449"/>
<area shape="poly" title=" " alt="" coords="130,302,186,352,221,378,259,402,294,417,292,422,256,406,218,383,182,356,127,306"/>
<area shape="rect" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680" title=" " alt="" coords="517,13,691,38"/>
<area shape="poly" title=" " alt="" coords="467,23,503,23,503,28,467,28"/>
<area shape="rect" href="../../d5/db1/a00140.html#a58a42edd6e2e756a705923c8292d9062" title=" " alt="" coords="529,121,679,146"/>
<area shape="poly" title=" " alt="" coords="401,204,454,179,514,155,537,147,538,152,516,160,456,184,404,209"/>
<area shape="poly" title=" " alt="" coords="463,222,574,216,693,204,736,197,737,202,694,209,574,221,463,227"/>
<area shape="poly" title=" " alt="" coords="448,244,537,266,536,271,446,249"/>
<area shape="poly" title=" " alt="" coords="397,244,452,275,516,306,542,315,540,320,514,310,449,280,395,249"/>
<area shape="rect" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed" title=" " alt="" coords="515,170,693,195"/>
<area shape="poly" title=" " alt="" coords="463,206,519,195,520,201,464,211"/>
<area shape="rect" href="../../d5/db1/a00140.html#a350c29e4046a24ff35f3bad20f96e2ca" title=" " alt="" coords="752,121,843,146"/>
<area shape="poly" title=" " alt="" coords="680,131,738,131,738,136,680,136"/>
<area shape="rect" href="../../d5/db1/a00140.html#a6f807e9c25c22459cccbe4802fc0c9b0" title=" " alt="" coords="901,173,984,198"/>
<area shape="poly" title=" " alt="" coords="845,183,887,183,887,188,845,188"/>
<area shape="poly" title=" " alt="" coords="650,269,692,250,716,229,740,207,749,202,752,206,743,211,719,233,695,254,652,274"/>
<area shape="rect" href="../../d5/db1/a00140.html#a9d816d39227aaac83f678eb981cbfe57" title=" " alt="" coords="751,271,843,297"/>
<area shape="poly" title=" " alt="" coords="690,281,737,281,737,287,690,287"/>
<area shape="rect" href="../../d5/db1/a00140.html#a233b0ecd2624ca94069315c815b8c0a7" title=" " alt="" coords="751,222,844,247"/>
<area shape="poly" title=" " alt="" coords="654,269,737,247,738,252,655,274"/>
<area shape="rect" href="../../d5/db1/a00140.html#a7a615b1ddb9ba5e883983dae40bbbb73" title="Here are some conversion routines to convert to regular Lab encoding." alt="" coords="742,370,853,395"/>
<area shape="poly" title=" " alt="" coords="657,345,733,364,731,369,655,350"/>
<area shape="rect" href="../../d5/db1/a00140.html#a3cbef1cbb090376bd6bde159b0d62384" title="Here are some conversion routines to convert to regular XYZ encoding." alt="" coords="741,321,853,346"/>
<area shape="poly" title=" " alt="" coords="689,331,728,331,728,336,690,337"/>
<area shape="poly" title=" " alt="" coords="651,345,695,364,719,385,743,406,752,411,749,416,740,410,716,389,692,369,649,350"/>
<area shape="rect" href="../../d5/db1/a00140.html#a26f2164439cde086fc6d77d110718154" title=" " alt="" coords="903,419,982,445"/>
<area shape="poly" title=" " alt="" coords="845,429,889,429,889,435,845,435"/>
</map>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_icgraph.png" border="0" usemap="#adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_icgraph" id="adc/de3/a00373_a6fd921c5b7b19fab503ec1c655ba1f16_icgraph">
<area shape="rect" title=" " alt="" coords="511,5,715,45"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="497,28,463,28,463,23,497,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
</map>
</div>

</div>
</div>
<a id="aba0ac42eacdd0babc152d826facea17f" name="aba0ac42eacdd0babc152d826facea17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba0ac42eacdd0babc152d826facea17f">&#9670;&#160;</a></span>CalcFactors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIccApplyBPC::CalcFactors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CIccXform *&#160;</td>
          <td class="paramname"><em>pXform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>Scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>Offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: CIccApplyBPC::CalculateFactors</p>
<p>Purpose: This function does the suitable calculations to setup black point compensation.</p>
<p>Args: pXform = pointer to the Xform object that calls this function</p>
<p>Return: true = all calculations done false = an error occurred </p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">if</span> (!pProfile || !pXform)</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> (pXform-&gt;GetIntent()==<a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77ae6136c556a175effd2e35cb1db5ff944">icAbsoluteColorimetric</a>) { <span class="comment">// black point compensation not supported</span></div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">switch</span> (pProfile-&gt;m_Header.deviceClass)</div>
<div class="line"><span class="lineno">  223</span>    { <span class="comment">// These profile classes not supported</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0af50c13fdfab9fcc0a7b831ac86d1fe3b">icSigLinkClass</a>:</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0a200e4fc8dcec29c6d411cae0c9a0483c">icSigAbstractClass</a>:</div>
<div class="line"><span class="lineno">  226</span>        <span class="comment">//case icSigColorSpaceClass:</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0ac1881705b3792813f8ef0745b7a12170">icSigNamedColorClass</a>:</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  230</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> XYZbp[3]; <span class="comment">// storage for black point XYZ</span></div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="comment">// calculate the black point</span></div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9">calcBlackPoint</a>(pProfile, pXform, XYZbp)) {</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="comment">// calculate the scale and offset</span></div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span> (pXform-&gt;IsInput()) { <span class="comment">// use PRM black as destination black</span></div>
<div class="line"><span class="lineno">  242</span>        Scale[0] = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((1.0 - <a class="code hl_define" href="../../d6/d5b/a00026.html#a91d9d2e6ccc7b48d1c505eac7d472e11">icPerceptualRefBlackY</a>)/(1.0 - XYZbp[1]));</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">else</span> { <span class="comment">// use PRM black as source black</span></div>
<div class="line"><span class="lineno">  245</span>        Scale[0] = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((1.0 - XYZbp[1])/(1.0 - <a class="code hl_define" href="../../d6/d5b/a00026.html#a91d9d2e6ccc7b48d1c505eac7d472e11">icPerceptualRefBlackY</a>));</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    Scale[1] = Scale[0];</div>
<div class="line"><span class="lineno">  249</span>    Scale[2] = Scale[0];</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    Offset[0] = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((1.0 - Scale[0]) * <a class="code hl_define" href="../../d6/d5b/a00026.html#a2099748836172e9623ed265cf9a416fe">icPerceptualRefWhiteX</a>);</div>
<div class="line"><span class="lineno">  252</span>    Offset[1] = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((1.0 - Scale[1]) * <a class="code hl_define" href="../../d6/d5b/a00026.html#ac9449e1acbe4f8a51e242f04afd25361">icPerceptualRefWhiteY</a>);</div>
<div class="line"><span class="lineno">  253</span>    Offset[2] = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((1.0 - Scale[2]) * <a class="code hl_define" href="../../d6/d5b/a00026.html#a970c241f6169898a9ae88b10fe06f91b">icPerceptualRefWhiteZ</a>);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_function" href="../../d7/dce/a00143.html#a4b4cfb7788c3a780f19f2f104677a5b8">icXyzToPcs</a>(Offset);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="aa00002_html_a1cc0ddb4770d5695c83543b62afaa1a0a200e4fc8dcec29c6d411cae0c9a0483c"><div class="ttname"><a href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0a200e4fc8dcec29c6d411cae0c9a0483c">icSigAbstractClass</a></div><div class="ttdeci">@ icSigAbstractClass</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:956</div></div>
<div class="ttc" id="aa00002_html_a1cc0ddb4770d5695c83543b62afaa1a0ac1881705b3792813f8ef0745b7a12170"><div class="ttname"><a href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0ac1881705b3792813f8ef0745b7a12170">icSigNamedColorClass</a></div><div class="ttdeci">@ icSigNamedColorClass</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:958</div></div>
<div class="ttc" id="aa00002_html_a1cc0ddb4770d5695c83543b62afaa1a0af50c13fdfab9fcc0a7b831ac86d1fe3b"><div class="ttname"><a href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0af50c13fdfab9fcc0a7b831ac86d1fe3b">icSigLinkClass</a></div><div class="ttdeci">@ icSigLinkClass</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:955</div></div>
<div class="ttc" id="aa00002_html_ad596b62f264ef4846d435b494c8d2a77ae6136c556a175effd2e35cb1db5ff944"><div class="ttname"><a href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77ae6136c556a175effd2e35cb1db5ff944">icAbsoluteColorimetric</a></div><div class="ttdeci">@ icAbsoluteColorimetric</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:1147</div></div>
<div class="ttc" id="aa00026_html_a2099748836172e9623ed265cf9a416fe"><div class="ttname"><a href="../../d6/d5b/a00026.html#a2099748836172e9623ed265cf9a416fe">icPerceptualRefWhiteX</a></div><div class="ttdeci">#define icPerceptualRefWhiteX</div><div class="ttdef"><b>Definition</b> IccCmm.h:143</div></div>
<div class="ttc" id="aa00026_html_a91d9d2e6ccc7b48d1c505eac7d472e11"><div class="ttname"><a href="../../d6/d5b/a00026.html#a91d9d2e6ccc7b48d1c505eac7d472e11">icPerceptualRefBlackY</a></div><div class="ttdeci">#define icPerceptualRefBlackY</div><div class="ttdef"><b>Definition</b> IccCmm.h:140</div></div>
<div class="ttc" id="aa00026_html_a970c241f6169898a9ae88b10fe06f91b"><div class="ttname"><a href="../../d6/d5b/a00026.html#a970c241f6169898a9ae88b10fe06f91b">icPerceptualRefWhiteZ</a></div><div class="ttdeci">#define icPerceptualRefWhiteZ</div><div class="ttdef"><b>Definition</b> IccCmm.h:145</div></div>
<div class="ttc" id="aa00026_html_ac9449e1acbe4f8a51e242f04afd25361"><div class="ttname"><a href="../../d6/d5b/a00026.html#ac9449e1acbe4f8a51e242f04afd25361">icPerceptualRefWhiteY</a></div><div class="ttdeci">#define icPerceptualRefWhiteY</div><div class="ttdef"><b>Definition</b> IccCmm.h:144</div></div>
<div class="ttc" id="aa00143_html_a4b4cfb7788c3a780f19f2f104677a5b8"><div class="ttname"><a href="../../d7/dce/a00143.html#a4b4cfb7788c3a780f19f2f104677a5b8">icXyzToPcs</a></div><div class="ttdeci">ICCPROFLIB_API void icXyzToPcs(icFloatNumber *XYZ)</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:941</div></div>
<div class="ttc" id="aa00373_html_a99c6a4c883642b21117eac2d0683f1b9"><div class="ttname"><a href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9">CIccApplyBPC::calcBlackPoint</a></div><div class="ttdeci">bool calcBlackPoint(const CIccProfile *pProfile, const CIccXform *pXform, icFloatNumber *XYZb) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:269</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00269">calcBlackPoint()</a>, <a class="el" href="../../#l02047">icHeader::deviceClass</a>, <a class="el" href="../../#l01147">icAbsoluteColorimetric</a>, <a class="el" href="../../#l00956">icSigAbstractClass</a>, <a class="el" href="../../#l00955">icSigLinkClass</a>, <a class="el" href="../../#l00958">icSigNamedColorClass</a>, and <a class="el" href="../../#l00941">icXyzToPcs()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_aba0ac42eacdd0babc152d826facea17f_cgraph.png" border="0" usemap="#adc/de3/a00373_aba0ac42eacdd0babc152d826facea17f_cgraph" alt=""/></div>
<map name="adc/de3/a00373_aba0ac42eacdd0babc152d826facea17f_cgraph" id="adc/de3/a00373_aba0ac42eacdd0babc152d826facea17f_cgraph">
<area shape="rect" title=" " alt="" coords="5,377,200,402"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,330,463,355"/>
<area shape="poly" title=" " alt="" coords="172,374,272,355,273,360,173,379"/>
<area shape="rect" href="../../d5/db1/a00140.html#a233b0ecd2624ca94069315c815b8c0a7" title=" " alt="" coords="1256,421,1349,446"/>
<area shape="poly" title=" " alt="" coords="193,399,385,421,498,429,611,432,869,432,1242,431,1242,436,869,437,611,437,498,434,384,426,192,405"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,189,715,229"/>
<area shape="poly" title=" " alt="" coords="380,328,560,233,562,238,382,332"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="766,323,969,363"/>
<area shape="poly" title=" " alt="" coords="463,340,752,340,752,345,463,345"/>
<area shape="rect" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e" title=" " alt="" coords="763,5,972,45"/>
<area shape="poly" title=" " alt="" coords="628,187,683,126,720,92,761,62,786,49,788,53,764,66,724,96,687,130,632,191"/>
<area shape="poly" title=" " alt="" coords="643,227,698,264,764,302,794,315,792,320,761,306,695,269,641,232"/>
<area shape="rect" href="../../d5/db1/a00140.html#aaae59bc2559c55e8d7305a09b53690c2" title=" " alt="" coords="1255,222,1350,247"/>
<area shape="poly" title=" " alt="" coords="715,205,972,208,1118,216,1242,226,1241,232,1117,222,972,213,715,211"/>
<area shape="rect" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7" title=" " alt="" coords="1024,273,1195,298"/>
<area shape="poly" title=" " alt="" coords="664,227,711,244,763,257,891,275,1010,282,1010,287,891,281,762,263,710,249,662,232"/>
<area shape="rect" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3" title=" " alt="" coords="1024,121,1195,146"/>
<area shape="poly" title=" " alt="" coords="671,187,762,163,891,144,1010,135,1011,140,892,150,763,168,673,192"/>
<area shape="rect" href="../../d5/db1/a00140.html#aef9dd96318302c6f4f7ee703131b52dc" title=" " alt="" coords="1255,71,1350,97"/>
<area shape="poly" title=" " alt="" coords="644,187,697,157,762,131,827,114,894,102,1027,86,1148,80,1242,79,1242,85,1148,85,1028,91,895,107,828,119,763,136,700,162,646,191"/>
<area shape="rect" href="../../dc/de3/a00373.html#a84f077a6c2e8ba9c67cd0664c7153852" title=" " alt="" coords="765,222,969,247"/>
<area shape="poly" title=" " alt="" coords="715,217,752,221,751,226,714,222"/>
<area shape="rect" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680" title=" " alt="" coords="1022,13,1197,38"/>
<area shape="poly" title=" " alt="" coords="972,23,1008,23,1008,28,972,28"/>
<area shape="rect" href="../../d5/db1/a00140.html#a58a42edd6e2e756a705923c8292d9062" title=" " alt="" coords="1034,371,1185,397"/>
<area shape="poly" title=" " alt="" coords="969,357,1022,366,1021,372,968,363"/>
<area shape="poly" title=" " alt="" coords="896,320,952,287,1019,259,1077,245,1136,237,1241,231,1241,236,1137,242,1078,250,1021,264,954,292,899,325"/>
<area shape="poly" title=" " alt="" coords="952,320,1041,299,1042,304,953,325"/>
<area shape="poly" title=" " alt="" coords="893,320,970,258,1082,154,1086,158,974,262,897,325"/>
<area shape="rect" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed" title=" " alt="" coords="1020,322,1199,347"/>
<area shape="poly" title=" " alt="" coords="969,337,1006,335,1006,341,969,342"/>
<area shape="rect" href="../../d5/db1/a00140.html#a350c29e4046a24ff35f3bad20f96e2ca" title=" " alt="" coords="1257,371,1348,397"/>
<area shape="poly" title=" " alt="" coords="1185,381,1244,381,1244,387,1185,387"/>
<area shape="rect" href="../../d5/db1/a00140.html#a6f807e9c25c22459cccbe4802fc0c9b0" title=" " alt="" coords="1407,222,1489,247"/>
<area shape="poly" title=" " alt="" coords="1350,232,1393,232,1393,237,1350,237"/>
<area shape="poly" title=" " alt="" coords="1158,270,1241,248,1243,253,1159,275"/>
<area shape="rect" href="../../d5/db1/a00140.html#a9d816d39227aaac83f678eb981cbfe57" title=" " alt="" coords="1257,273,1349,298"/>
<area shape="poly" title=" " alt="" coords="1195,283,1243,283,1243,288,1195,288"/>
<area shape="poly" title=" " alt="" coords="1179,296,1200,309,1219,333,1226,358,1232,383,1249,408,1253,411,1250,415,1245,411,1227,385,1221,360,1215,336,1197,313,1176,300"/>
<area shape="rect" href="../../d5/db1/a00140.html#a7a615b1ddb9ba5e883983dae40bbbb73" title="Here are some conversion routines to convert to regular Lab encoding." alt="" coords="1247,170,1358,195"/>
<area shape="poly" title=" " alt="" coords="1160,143,1239,164,1238,169,1159,149"/>
<area shape="rect" href="../../d5/db1/a00140.html#a3cbef1cbb090376bd6bde159b0d62384" title="Here are some conversion routines to convert to regular XYZ encoding." alt="" coords="1247,121,1359,146"/>
<area shape="poly" title=" " alt="" coords="1195,131,1233,131,1233,136,1195,136"/>
<area shape="poly" title=" " alt="" coords="1159,118,1241,97,1243,102,1160,123"/>
<area shape="rect" href="../../d5/db1/a00140.html#a26f2164439cde086fc6d77d110718154" title=" " alt="" coords="1409,71,1487,97"/>
<area shape="poly" title=" " alt="" coords="1350,81,1395,81,1395,87,1350,87"/>
</map>
</div>

</div>
</div>
<a id="aee616f7ef1a37901f133204fd93f622e" name="aee616f7ef1a37901f133204fd93f622e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee616f7ef1a37901f133204fd93f622e">&#9670;&#160;</a></span>calcQuadraticVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> CIccApplyBPC::calcQuadraticVertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  163</span>{</div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> vert = 0.0;</div>
<div class="line"><span class="lineno">  165</span>    </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (n&gt;2) { <span class="comment">// need at least three points to solve three linear equations</span></div>
<div class="line"><span class="lineno">  167</span>        <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> s00, s10, s20, s30, s40, s01, s11, s21, denom;</div>
<div class="line"><span class="lineno">  168</span>        s00 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 0, 0);</div>
<div class="line"><span class="lineno">  169</span>        s10 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 1, 0);</div>
<div class="line"><span class="lineno">  170</span>        s20 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 2, 0);</div>
<div class="line"><span class="lineno">  171</span>        s30 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 3, 0);</div>
<div class="line"><span class="lineno">  172</span>        s40 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 4, 0);</div>
<div class="line"><span class="lineno">  173</span>        s01 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 0, 1);</div>
<div class="line"><span class="lineno">  174</span>        s11 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 1, 1);</div>
<div class="line"><span class="lineno">  175</span>        s21 = <a class="code hl_function" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">calcsum</a>(x, y, n, 2, 1);</div>
<div class="line"><span class="lineno">  176</span>        denom = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)(s00*s20*s40 - s10*s10*s40 - s00*s30*s30 + 2.0*s10*s20*s30 - s20*s20*s20);</div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">if</span> (fabs(denom)&gt;0.0) {</div>
<div class="line"><span class="lineno">  178</span>            <span class="comment">// t and u are the coefficients of the quadratic equation y = tx^2 + ux + c</span></div>
<div class="line"><span class="lineno">  179</span>            <span class="comment">// the three equations with 3 unknowns can be written as</span></div>
<div class="line"><span class="lineno">  180</span>            <span class="comment">// [s40 s30 s20][t]   [s21]</span></div>
<div class="line"><span class="lineno">  181</span>            <span class="comment">// [s30 s20 s10][u] = [s11]</span></div>
<div class="line"><span class="lineno">  182</span>            <span class="comment">// [s20 s10 s00][c]   [s01]</span></div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> t = (s01*s10*s30 - s11*s00*s30 - s01*s20*s20 + s11*s10*s20 + s21*s00*s20 - s21*s10*s10)/denom;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>            <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> u = (s11*s00*s40 - s01*s10*s40 + s01*s20*s30 - s21*s00*s30 - s11*s20*s20 + s21*s10*s20)/denom;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> c = (s01*s20*s40 - s11*s10*s40 - s01*s30*s30 + s11*s20*s30 + s21*s10*s30 - s21*s20*s20)/denom;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>            <span class="comment">// vertex is (-u + sqrt(u^2 - 4tc))/2t</span></div>
<div class="line"><span class="lineno">  190</span>            vert = (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)((-1.0 * u + sqrt(u*u - 4*t*c)) / (2.0 * t));</div>
<div class="line"><span class="lineno">  191</span>        }</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">return</span> vert;</div>
<div class="line"><span class="lineno">  195</span>}</div>
<div class="ttc" id="aa00373_html_acce7ace7c9882b32d59761d9dc12c680"><div class="ttname"><a href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680">CIccApplyBPC::calcsum</a></div><div class="ttdeci">icFloatNumber calcsum(icFloatNumber *x, icFloatNumber *y, int n, int j, int k) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:134</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00134">calcsum()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00379">calcDstBlackPoint()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_cgraph.png" border="0" usemap="#adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_cgraph" alt=""/></div>
<map name="adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_cgraph" id="adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,215,45"/>
<area shape="rect" href="../../dc/de3/a00373.html#acce7ace7c9882b32d59761d9dc12c680" title=" " alt="" coords="263,13,437,38"/>
<area shape="poly" title=" " alt="" coords="215,23,249,23,249,28,215,28"/>
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_icgraph.png" border="0" usemap="#adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_icgraph" alt=""/></div>
<map name="adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_icgraph" id="adc/de3/a00373_aee616f7ef1a37901f133204fd93f622e_icgraph">
<area shape="rect" title=" " alt="" coords="763,5,972,45"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,5,715,45"/>
<area shape="poly" title=" " alt="" coords="749,28,715,28,715,23,749,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="497,28,463,28,463,23,497,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
</map>
</div>

</div>
</div>
<a id="a66c83e198a8f80b7507b99304f091cb8" name="a66c83e198a8f80b7507b99304f091cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c83e198a8f80b7507b99304f091cb8">&#9670;&#160;</a></span>calcSrcBlackPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIccApplyBPC::calcSrcBlackPoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CIccXform *&#160;</td>
          <td class="paramname"><em>pXform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>XYZb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: <a class="el" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8">CIccApplyBPC::calcSrcBlackPoint</a></p>
<p>Purpose: Calculates the black point of a source profile </p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>{</div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> Pixel[16];</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> ((pProfile-&gt;m_Header.colorSpace == <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661">icSigCmykData</a>) &amp;&amp; (pProfile-&gt;m_Header.deviceClass == <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0a3d7221c908ff87364cca86a1d275ce8e">icSigOutputClass</a>)) {</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        <span class="comment">// calculate intermediate CMYK</span></div>
<div class="line"><span class="lineno">  296</span>        XYZb[0] = XYZb[1] = XYZb[2] = 0.0;</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>        <span class="comment">// convert the Lab of 0,0,0 to relevant PCS</span></div>
<div class="line"><span class="lineno">  299</span>        <a class="code hl_function" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7">lab2pcs</a>(XYZb, pProfile);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>        <span class="comment">//convert the PCS value to CMYK</span></div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed">pixelXfm</a>(Pixel, XYZb, pProfile-&gt;m_Header.pcs, <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a300c7e86384819a2318614c61c20a112">icPerceptual</a>, pProfile)) {</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  304</span>        }</div>
<div class="line"><span class="lineno">  305</span>    }</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">switch</span> (pProfile-&gt;m_Header.colorSpace) {</div>
<div class="line"><span class="lineno">  308</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ad0e9fe12d5f79f3a3b8b15be31288a30">icSigRgbData</a>:</div>
<div class="line"><span class="lineno">  309</span>                    Pixel[0] = 0.0;</div>
<div class="line"><span class="lineno">  310</span>                    Pixel[1] = 0.0;</div>
<div class="line"><span class="lineno">  311</span>                    Pixel[2] = 0.0;</div>
<div class="line"><span class="lineno">  312</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af4c6afaa42216765b0431ec6ae0ba27c">icSigGrayData</a>:</div>
<div class="line"><span class="lineno">  315</span>                    Pixel[0] = 0.0;</div>
<div class="line"><span class="lineno">  316</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661">icSigCmykData</a>:</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af20259a5702129c41fd08e21c7e94a74">icSigCmyData</a>:</div>
<div class="line"><span class="lineno">  320</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0a6f546f80aaa84e97c667d8e64c3235">icSig2colorData</a>:</div>
<div class="line"><span class="lineno">  321</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917afa0686ad8f20f604e7e52807087f04da">icSig3colorData</a>:</div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917addb4c9db388eda46c3ec7fdaa8824cf5">icSig4colorData</a>:</div>
<div class="line"><span class="lineno">  323</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917afe9abf41fcde9ef6b5cb704bf1b01113">icSig5colorData</a>:</div>
<div class="line"><span class="lineno">  324</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7d79686b4ed63ff02e44242287c38169">icSig6colorData</a>:</div>
<div class="line"><span class="lineno">  325</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a582f7f5ffda83ca75b6196b2cbc76bff">icSig7colorData</a>:</div>
<div class="line"><span class="lineno">  326</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0ebb5fc548c720f704c34d4a6307f3e2">icSig8colorData</a>:</div>
<div class="line"><span class="lineno">  327</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a5c72d5788e1a60e7a9d6b7b56d46899c">icSig9colorData</a>:</div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a3db473a6296c0e148d96c5c8550d30ef">icSig10colorData</a>:</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ae5952ccb50b566d3a517c484e3555632">icSig11colorData</a>:</div>
<div class="line"><span class="lineno">  330</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ae3c5020999a99b24b3bd28b6aa71e57a">icSig12colorData</a>:</div>
<div class="line"><span class="lineno">  331</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7182f8c00cee9454b7b5917805dce8a7">icSig13colorData</a>:</div>
<div class="line"><span class="lineno">  332</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0438f07f3d3757977904f48c5d7d8efa">icSig14colorData</a>:</div>
<div class="line"><span class="lineno">  333</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af8640335da4bca8d7eb7e238ceaf139a">icSig15colorData</a>:</div>
<div class="line"><span class="lineno">  334</span>                    {</div>
<div class="line"><span class="lineno">  335</span>                        <a class="code hl_typedef" href="../../d7/d46/a00002.html#a63276cc6df51af4efa1945ecae93a182">icUInt32Number</a> nSamples = <a class="code hl_function" href="../../d7/dce/a00143.html#a719dc0d47f230294e78ac9c8cbc91a89">icGetSpaceSamples</a>(pProfile-&gt;m_Header.colorSpace);</div>
<div class="line"><span class="lineno">  336</span>                        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d7/d46/a00002.html#a63276cc6df51af4efa1945ecae93a182">icUInt32Number</a> i=0; i&lt;nSamples; i++) {</div>
<div class="line"><span class="lineno">  337</span>                            Pixel[i] = 1.0;</div>
<div class="line"><span class="lineno">  338</span>                        }</div>
<div class="line"><span class="lineno">  339</span>                    }</div>
<div class="line"><span class="lineno">  340</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  343</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  344</span>        }</div>
<div class="line"><span class="lineno">  345</span>    }</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="comment">// convert the device value to PCS</span></div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed">pixelXfm</a>(XYZb, Pixel, pProfile-&gt;m_Header.colorSpace, pXform-&gt;GetIntent(), pProfile)) {</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="comment">// convert PCS to Lab</span></div>
<div class="line"><span class="lineno">  353</span>    <a class="code hl_function" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3">pcs2lab</a>(XYZb, pProfile);</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <span class="comment">// set a* b* to zero for cmyk profiles</span></div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (pProfile-&gt;m_Header.colorSpace == <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ac5ad31bfd82d421d33be30f0a68b4661">icSigCmykData</a>) {</div>
<div class="line"><span class="lineno">  357</span>        XYZb[1] = XYZb[2] = 0.0;</div>
<div class="line"><span class="lineno">  358</span>    }</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="comment">// clip L* to 50</span></div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">if</span> (XYZb[0]&gt;50.0) {</div>
<div class="line"><span class="lineno">  362</span>        XYZb[0] = 50.0;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <span class="comment">// convert Lab to XYZ</span></div>
<div class="line"><span class="lineno">  366</span>    <a class="code hl_function" href="../../d7/dce/a00143.html#aaf617b49cf0d56a218cd52c840228705">icLabtoXYZ</a>(XYZb);</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="aa00002_html_a1cc0ddb4770d5695c83543b62afaa1a0a3d7221c908ff87364cca86a1d275ce8e"><div class="ttname"><a href="../../d7/d46/a00002.html#a1cc0ddb4770d5695c83543b62afaa1a0a3d7221c908ff87364cca86a1d275ce8e">icSigOutputClass</a></div><div class="ttdeci">@ icSigOutputClass</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:954</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a0438f07f3d3757977904f48c5d7d8efa"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0438f07f3d3757977904f48c5d7d8efa">icSig14colorData</a></div><div class="ttdeci">@ icSig14colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:871</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a0a6f546f80aaa84e97c667d8e64c3235"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0a6f546f80aaa84e97c667d8e64c3235">icSig2colorData</a></div><div class="ttdeci">@ icSig2colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:859</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a0ebb5fc548c720f704c34d4a6307f3e2"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0ebb5fc548c720f704c34d4a6307f3e2">icSig8colorData</a></div><div class="ttdeci">@ icSig8colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:865</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a3db473a6296c0e148d96c5c8550d30ef"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a3db473a6296c0e148d96c5c8550d30ef">icSig10colorData</a></div><div class="ttdeci">@ icSig10colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:867</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a582f7f5ffda83ca75b6196b2cbc76bff"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a582f7f5ffda83ca75b6196b2cbc76bff">icSig7colorData</a></div><div class="ttdeci">@ icSig7colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:864</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a5c72d5788e1a60e7a9d6b7b56d46899c"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a5c72d5788e1a60e7a9d6b7b56d46899c">icSig9colorData</a></div><div class="ttdeci">@ icSig9colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:866</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a7182f8c00cee9454b7b5917805dce8a7"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7182f8c00cee9454b7b5917805dce8a7">icSig13colorData</a></div><div class="ttdeci">@ icSig13colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:870</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a7d79686b4ed63ff02e44242287c38169"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7d79686b4ed63ff02e44242287c38169">icSig6colorData</a></div><div class="ttdeci">@ icSig6colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:863</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917addb4c9db388eda46c3ec7fdaa8824cf5"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917addb4c9db388eda46c3ec7fdaa8824cf5">icSig4colorData</a></div><div class="ttdeci">@ icSig4colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:861</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917ae3c5020999a99b24b3bd28b6aa71e57a"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ae3c5020999a99b24b3bd28b6aa71e57a">icSig12colorData</a></div><div class="ttdeci">@ icSig12colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:869</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917ae5952ccb50b566d3a517c484e3555632"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917ae5952ccb50b566d3a517c484e3555632">icSig11colorData</a></div><div class="ttdeci">@ icSig11colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:868</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917af20259a5702129c41fd08e21c7e94a74"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af20259a5702129c41fd08e21c7e94a74">icSigCmyData</a></div><div class="ttdeci">@ icSigCmyData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:856</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917af8640335da4bca8d7eb7e238ceaf139a"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917af8640335da4bca8d7eb7e238ceaf139a">icSig15colorData</a></div><div class="ttdeci">@ icSig15colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:872</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917afa0686ad8f20f604e7e52807087f04da"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917afa0686ad8f20f604e7e52807087f04da">icSig3colorData</a></div><div class="ttdeci">@ icSig3colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:860</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917afe9abf41fcde9ef6b5cb704bf1b01113"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917afe9abf41fcde9ef6b5cb704bf1b01113">icSig5colorData</a></div><div class="ttdeci">@ icSig5colorData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:862</div></div>
<div class="ttc" id="aa00002_html_a63276cc6df51af4efa1945ecae93a182"><div class="ttname"><a href="../../d7/d46/a00002.html#a63276cc6df51af4efa1945ecae93a182">icUInt32Number</a></div><div class="ttdeci">unsigned long icUInt32Number</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:262</div></div>
<div class="ttc" id="aa00002_html_ad596b62f264ef4846d435b494c8d2a77a300c7e86384819a2318614c61c20a112"><div class="ttname"><a href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a300c7e86384819a2318614c61c20a112">icPerceptual</a></div><div class="ttdeci">@ icPerceptual</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:1143</div></div>
<div class="ttc" id="aa00143_html_a719dc0d47f230294e78ac9c8cbc91a89"><div class="ttname"><a href="../../d7/dce/a00143.html#a719dc0d47f230294e78ac9c8cbc91a89">icGetSpaceSamples</a></div><div class="ttdeci">ICCPROFLIB_API icUInt32Number icGetSpaceSamples(icColorSpaceSignature sig)</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:1303</div></div>
<div class="ttc" id="aa00373_html_a76813b4f746bd1da4406dcdd7aef72ed"><div class="ttname"><a href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed">CIccApplyBPC::pixelXfm</a></div><div class="ttdeci">bool pixelXfm(icFloatNumber *DstPixel, icFloatNumber *SrcPixel, icColorSpaceSignature SrcSpace, icRenderingIntent nIntent, const CIccProfile *pProfile) const</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:542</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02048">icHeader::colorSpace</a>, <a class="el" href="../../#l02047">icHeader::deviceClass</a>, <a class="el" href="../../#l01303">icGetSpaceSamples()</a>, <a class="el" href="../../#l00830">icLabtoXYZ()</a>, <a class="el" href="../../#l01143">icPerceptual</a>, <a class="el" href="../../#l00867">icSig10colorData</a>, <a class="el" href="../../#l00868">icSig11colorData</a>, <a class="el" href="../../#l00869">icSig12colorData</a>, <a class="el" href="../../#l00870">icSig13colorData</a>, <a class="el" href="../../#l00871">icSig14colorData</a>, <a class="el" href="../../#l00872">icSig15colorData</a>, <a class="el" href="../../#l00859">icSig2colorData</a>, <a class="el" href="../../#l00860">icSig3colorData</a>, <a class="el" href="../../#l00861">icSig4colorData</a>, <a class="el" href="../../#l00862">icSig5colorData</a>, <a class="el" href="../../#l00863">icSig6colorData</a>, <a class="el" href="../../#l00864">icSig7colorData</a>, <a class="el" href="../../#l00865">icSig8colorData</a>, <a class="el" href="../../#l00866">icSig9colorData</a>, <a class="el" href="../../#l00856">icSigCmyData</a>, <a class="el" href="../../#l00855">icSigCmykData</a>, <a class="el" href="../../#l00852">icSigGrayData</a>, <a class="el" href="../../#l00954">icSigOutputClass</a>, <a class="el" href="../../#l00851">icSigRgbData</a>, <a class="el" href="../../#l00096">lab2pcs()</a>, <a class="el" href="../../#l02049">icHeader::pcs</a>, <a class="el" href="../../#l00115">pcs2lab()</a>, and <a class="el" href="../../#l00542">pixelXfm()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00269">calcBlackPoint()</a>, and <a class="el" href="../../#l00379">calcDstBlackPoint()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_cgraph.png" border="0" usemap="#adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_cgraph" alt=""/></div>
<map name="adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_cgraph" id="adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_cgraph">
<area shape="rect" title=" " alt="" coords="5,99,208,139"/>
<area shape="rect" href="../../d5/db1/a00140.html#a58a42edd6e2e756a705923c8292d9062" title=" " alt="" coords="270,5,421,31"/>
<area shape="poly" title=" " alt="" coords="147,97,255,48,293,33,295,38,257,52,150,102"/>
<area shape="rect" href="../../d5/db1/a00140.html#aaae59bc2559c55e8d7305a09b53690c2" title=" " alt="" coords="491,55,586,80"/>
<area shape="poly" title=" " alt="" coords="208,99,256,91,477,69,478,74,256,97,209,104"/>
<area shape="rect" href="../../dc/de3/a00373.html#ad80fbca34d4b78619142ac5e7a084ff7" title=" " alt="" coords="260,107,431,132"/>
<area shape="poly" title=" " alt="" coords="208,117,246,117,246,122,208,122"/>
<area shape="rect" href="../../dc/de3/a00373.html#a7a30fe32707679ca3612c51cf19698c3" title=" " alt="" coords="260,203,431,228"/>
<area shape="poly" title=" " alt="" coords="158,137,301,195,299,200,156,142"/>
<area shape="rect" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed" title=" " alt="" coords="256,252,435,277"/>
<area shape="poly" title=" " alt="" coords="129,138,184,187,220,214,257,237,275,245,273,250,255,242,217,218,181,192,126,142"/>
<area shape="rect" href="../../d5/db1/a00140.html#a350c29e4046a24ff35f3bad20f96e2ca" title=" " alt="" coords="493,5,584,31"/>
<area shape="poly" title=" " alt="" coords="421,15,480,15,480,21,421,21"/>
<area shape="rect" href="../../d5/db1/a00140.html#a6f807e9c25c22459cccbe4802fc0c9b0" title=" " alt="" coords="643,55,725,80"/>
<area shape="poly" title=" " alt="" coords="586,65,629,65,629,70,586,70"/>
<area shape="poly" title=" " alt="" coords="393,104,477,81,479,86,394,109"/>
<area shape="rect" href="../../d5/db1/a00140.html#a9d816d39227aaac83f678eb981cbfe57" title=" " alt="" coords="493,104,585,129"/>
<area shape="poly" title=" " alt="" coords="431,115,479,115,479,120,431,121"/>
<area shape="rect" href="../../d5/db1/a00140.html#a233b0ecd2624ca94069315c815b8c0a7" title=" " alt="" coords="492,153,585,179"/>
<area shape="poly" title=" " alt="" coords="399,129,479,149,478,154,398,135"/>
<area shape="rect" href="../../d5/db1/a00140.html#a7a615b1ddb9ba5e883983dae40bbbb73" title="Here are some conversion routines to convert to regular Lab encoding." alt="" coords="483,203,594,228"/>
<area shape="poly" title=" " alt="" coords="431,213,470,213,470,218,431,218"/>
<area shape="rect" href="../../d5/db1/a00140.html#a3cbef1cbb090376bd6bde159b0d62384" title="Here are some conversion routines to convert to regular XYZ encoding." alt="" coords="483,252,595,277"/>
<area shape="poly" title=" " alt="" coords="396,225,475,246,474,251,395,231"/>
<area shape="rect" href="../../d5/db1/a00140.html#aef9dd96318302c6f4f7ee703131b52dc" title=" " alt="" coords="491,301,586,327"/>
<area shape="poly" title=" " alt="" coords="411,226,436,237,452,250,461,262,470,275,484,288,492,293,489,297,481,292,466,279,457,266,448,253,433,242,409,230"/>
<area shape="rect" href="../../d5/db1/a00140.html#a26f2164439cde086fc6d77d110718154" title=" " alt="" coords="645,301,723,327"/>
<area shape="poly" title=" " alt="" coords="586,311,631,311,631,317,586,317"/>
</map>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_icgraph.png" border="0" usemap="#adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_icgraph" id="adc/de3/a00373_a66c83e198a8f80b7507b99304f091cb8_icgraph">
<area shape="rect" title=" " alt="" coords="763,5,965,45"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="749,25,715,24,511,24,463,25,463,20,511,19,715,19,749,19"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,33,715,73"/>
<area shape="poly" title=" " alt="" coords="749,41,715,45,714,39,749,35"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
<area shape="poly" title=" " alt="" coords="496,43,463,40,463,34,497,38"/>
</map>
</div>

</div>
</div>
<a id="acce7ace7c9882b32d59761d9dc12c680" name="acce7ace7c9882b32d59761d9dc12c680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce7ace7c9882b32d59761d9dc12c680">&#9670;&#160;</a></span>calcsum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> CIccApplyBPC::calcsum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  135</span>{</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> dSum = 0.0;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> (j &amp;&amp; k) {</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">for</span> (i=0; i&lt;n; i++) {</div>
<div class="line"><span class="lineno">  141</span>            dSum += (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)(pow(x[i], j)*pow(y[i], k));</div>
<div class="line"><span class="lineno">  142</span>        }</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j) {</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">for</span> (i=0; i&lt;n; i++) {</div>
<div class="line"><span class="lineno">  146</span>            dSum += (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)pow(x[i], j);</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k) {</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">for</span> (i=0; i&lt;n; i++) {</div>
<div class="line"><span class="lineno">  151</span>            dSum += (<a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>)pow(y[i], k);</div>
<div class="line"><span class="lineno">  152</span>        }</div>
<div class="line"><span class="lineno">  153</span>    }</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  155</span>        dSum = <a class="code hl_typedef" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a>(n);</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">return</span> dSum;</div>
<div class="line"><span class="lineno">  159</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00162">calcQuadraticVertex()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_acce7ace7c9882b32d59761d9dc12c680_icgraph.png" border="0" usemap="#adc/de3/a00373_acce7ace7c9882b32d59761d9dc12c680_icgraph" alt=""/></div>
<map name="adc/de3/a00373_acce7ace7c9882b32d59761d9dc12c680_icgraph" id="adc/de3/a00373_acce7ace7c9882b32d59761d9dc12c680_icgraph">
<area shape="rect" title=" " alt="" coords="1020,13,1195,38"/>
<area shape="rect" href="../../dc/de3/a00373.html#aee616f7ef1a37901f133204fd93f622e" title=" " alt="" coords="763,5,972,45"/>
<area shape="poly" title=" " alt="" coords="1006,28,972,28,972,23,1006,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,5,715,45"/>
<area shape="poly" title=" " alt="" coords="749,28,715,28,715,23,749,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="497,28,463,28,463,23,497,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
</map>
</div>

</div>
</div>
<a id="a84f077a6c2e8ba9c67cd0664c7153852" name="a84f077a6c2e8ba9c67cd0664c7153852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f077a6c2e8ba9c67cd0664c7153852">&#9670;&#160;</a></span>getBlackXfm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CIccCmm * CIccApplyBPC::getBlackXfm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a>&#160;</td>
          <td class="paramname"><em>nIntent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: CIccApplyBPC::blackXfm</p>
<p>Purpose: PCS -&gt; PCS round trip transform, always uses relative intent on the device -&gt; pcs transform </p>
<div class="fragment"><div class="line"><span class="lineno">  581</span>{</div>
<div class="line"><span class="lineno">  582</span>    <span class="comment">// create the cmm object</span></div>
<div class="line"><span class="lineno">  583</span>    CIccCmm* pCmm = <span class="keyword">new</span> CIccCmm(pProfile-&gt;m_Header.pcs, <a class="code hl_define" href="../../d7/d46/a00002.html#a80236e8e78fa1f2a6351cb0af0fed8da">icSigUnknownData</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">if</span> (!pCmm) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="comment">// first create a copy of the profile because the copy will be owned by the cmm</span></div>
<div class="line"><span class="lineno">  587</span>    <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>* pICC1 = <span class="keyword">new</span> <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>(*pProfile);</div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordflow">if</span> (!pICC1) {</div>
<div class="line"><span class="lineno">  589</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  591</span>    }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="comment">// add the xform</span></div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordflow">if</span> (pCmm-&gt;AddXform(pICC1, nIntent, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a39ef4ca48f4dbb239b4e3ac0e9e8e913aa14dd4addcb31947cb22d669495225e8">icInterpTetrahedral</a>, NULL, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a1ba790142ac961bedde2898273414a7bad77391d20e90bb2496733d3700589614">icXformLutColor</a>, pICC1-&gt;m_Header.version &gt;= <a class="code hl_define" href="../../d7/d46/a00002.html#a802c8f93248af9679280a8c10705807c">icVersionNumberV5</a> ? <span class="keyword">false</span> : <a class="code hl_define" href="../../d5/ddf/a00224.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  595</span>        <span class="keyword">delete</span> pICC1;</div>
<div class="line"><span class="lineno">  596</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  598</span>    }</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="comment">// create another copy of the profile because the copy will be owned by the cmm</span></div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>* pICC2 = <span class="keyword">new</span> <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>(*pProfile);</div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">if</span> (!pICC2) {</div>
<div class="line"><span class="lineno">  603</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  605</span>    }</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// add the xform</span></div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">if</span> (pCmm-&gt;AddXform(pICC2, <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77a64d6354071e8f3d7b461202675e755cb">icRelativeColorimetric</a>, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a39ef4ca48f4dbb239b4e3ac0e9e8e913aa14dd4addcb31947cb22d669495225e8">icInterpTetrahedral</a>, NULL, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a1ba790142ac961bedde2898273414a7bad77391d20e90bb2496733d3700589614">icXformLutColor</a>, pICC2-&gt;m_Header.version &gt;= <a class="code hl_define" href="../../d7/d46/a00002.html#a802c8f93248af9679280a8c10705807c">icVersionNumberV5</a> ? <span class="keyword">false</span> : <a class="code hl_define" href="../../d5/ddf/a00224.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) { <span class="comment">// uses the relative intent on the device to Lab side</span></div>
<div class="line"><span class="lineno">  609</span>        <span class="keyword">delete</span> pICC2;</div>
<div class="line"><span class="lineno">  610</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  612</span>    }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <span class="comment">// get the cmm ready to do transforms</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (pCmm-&gt;Begin()!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  616</span>        <span class="keyword">delete</span> pCmm;</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  618</span>    }</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">return</span> pCmm;</div>
<div class="line"><span class="lineno">  621</span>}</div>
<div class="ttc" id="aa00002_html_a80236e8e78fa1f2a6351cb0af0fed8da"><div class="ttname"><a href="../../d7/d46/a00002.html#a80236e8e78fa1f2a6351cb0af0fed8da">icSigUnknownData</a></div><div class="ttdeci">#define icSigUnknownData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:903</div></div>
<div class="ttc" id="aa00002_html_a802c8f93248af9679280a8c10705807c"><div class="ttname"><a href="../../d7/d46/a00002.html#a802c8f93248af9679280a8c10705807c">icVersionNumberV5</a></div><div class="ttdeci">#define icVersionNumberV5</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:193</div></div>
<div class="ttc" id="aa00026_html_a1ba790142ac961bedde2898273414a7bad77391d20e90bb2496733d3700589614"><div class="ttname"><a href="../../d6/d5b/a00026.html#a1ba790142ac961bedde2898273414a7bad77391d20e90bb2496733d3700589614">icXformLutColor</a></div><div class="ttdeci">@ icXformLutColor</div><div class="ttdef"><b>Definition</b> IccCmm.h:126</div></div>
<div class="ttc" id="aa00026_html_a39ef4ca48f4dbb239b4e3ac0e9e8e913aa14dd4addcb31947cb22d669495225e8"><div class="ttname"><a href="../../d6/d5b/a00026.html#a39ef4ca48f4dbb239b4e3ac0e9e8e913aa14dd4addcb31947cb22d669495225e8">icInterpTetrahedral</a></div><div class="ttdeci">@ icInterpTetrahedral</div><div class="ttdef"><b>Definition</b> IccCmm.h:115</div></div>
<div class="ttc" id="aa00101_html_a14e10b61df6e9ec7c90c5d3bc38c78d9"><div class="ttname"><a href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a></div><div class="ttdeci">class ICCPROFLIB_API CIccProfile</div><div class="ttdef"><b>Definition</b> IccPcc.h:80</div></div>
<div class="ttc" id="aa00224_html_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><div class="ttname"><a href="../../d5/ddf/a00224.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div><div class="ttdeci">#define true</div><div class="ttdef"><b>Definition</b> IccConvertUTF.cpp:57</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00080">CIccProfile</a>, <a class="el" href="../../#l00092">icCmmStatOk</a>, <a class="el" href="../../#l00115">icInterpTetrahedral</a>, <a class="el" href="../../#l01144">icRelativeColorimetric</a>, <a class="el" href="../../#l00126">icXformLutColor</a>, <a class="el" href="../../#l02049">icHeader::pcs</a>, and <a class="el" href="../../#l02046">icHeader::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00379">calcDstBlackPoint()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a84f077a6c2e8ba9c67cd0664c7153852_icgraph.png" border="0" usemap="#adc/de3/a00373_a84f077a6c2e8ba9c67cd0664c7153852_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a84f077a6c2e8ba9c67cd0664c7153852_icgraph" id="adc/de3/a00373_a84f077a6c2e8ba9c67cd0664c7153852_icgraph">
<area shape="rect" title=" " alt="" coords="763,13,967,38"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,5,715,45"/>
<area shape="poly" title=" " alt="" coords="749,28,715,28,715,23,749,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="497,28,463,28,463,23,497,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
</map>
</div>

</div>
</div>
<a id="ad80fbca34d4b78619142ac5e7a084ff7" name="ad80fbca34d4b78619142ac5e7a084ff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80fbca34d4b78619142ac5e7a084ff7">&#9670;&#160;</a></span>lab2pcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIccApplyBPC::lab2pcs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>pixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">switch</span> (pProfile-&gt;m_Header.pcs)</div>
<div class="line"><span class="lineno">   99</span>    {</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0925d8599ecad36e7cc572c5ba1cd07f">icSigLabData</a>:</div>
<div class="line"><span class="lineno">  101</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#a5768271d491af79a433e52722ed0a189">icLabToPcs</a>(pixel);</div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7030370eb0ee02671895978dc61858d8">icSigXYZData</a>:</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#aaf617b49cf0d56a218cd52c840228705">icLabtoXYZ</a>(pixel);</div>
<div class="line"><span class="lineno">  106</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#a4b4cfb7788c3a780f19f2f104677a5b8">icXyzToPcs</a>(pixel);</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  111</span>    }</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a0925d8599ecad36e7cc572c5ba1cd07f"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0925d8599ecad36e7cc572c5ba1cd07f">icSigLabData</a></div><div class="ttdeci">@ icSigLabData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:847</div></div>
<div class="ttc" id="aa00002_html_a61e8bac86860cdefe93533feac126917a7030370eb0ee02671895978dc61858d8"><div class="ttname"><a href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7030370eb0ee02671895978dc61858d8">icSigXYZData</a></div><div class="ttdeci">@ icSigXYZData</div><div class="ttdef"><b>Definition</b> icProfileHeader.h:846</div></div>
<div class="ttc" id="aa00143_html_a5768271d491af79a433e52722ed0a189"><div class="ttname"><a href="../../d7/dce/a00143.html#a5768271d491af79a433e52722ed0a189">icLabToPcs</a></div><div class="ttdeci">ICCPROFLIB_API void icLabToPcs(icFloatNumber *Lab)</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:927</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00927">icLabToPcs()</a>, <a class="el" href="../../#l00830">icLabtoXYZ()</a>, <a class="el" href="../../#l00847">icSigLabData</a>, <a class="el" href="../../#l00846">icSigXYZData</a>, <a class="el" href="../../#l00941">icXyzToPcs()</a>, and <a class="el" href="../../#l02049">icHeader::pcs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00379">calcDstBlackPoint()</a>, and <a class="el" href="../../#l00290">calcSrcBlackPoint()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_cgraph.png" border="0" usemap="#adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_cgraph" alt=""/></div>
<map name="adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_cgraph" id="adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,176,80"/>
<area shape="rect" href="../../d5/db1/a00140.html#a9d816d39227aaac83f678eb981cbfe57" title=" " alt="" coords="225,5,317,31"/>
<area shape="poly" title=" " alt="" coords="137,52,211,32,213,37,139,57"/>
<area shape="rect" href="../../d5/db1/a00140.html#aaae59bc2559c55e8d7305a09b53690c2" title=" " alt="" coords="224,55,319,80"/>
<area shape="poly" title=" " alt="" coords="176,65,210,65,210,70,176,70"/>
<area shape="rect" href="../../d5/db1/a00140.html#a233b0ecd2624ca94069315c815b8c0a7" title=" " alt="" coords="225,104,318,129"/>
<area shape="poly" title=" " alt="" coords="139,77,212,98,211,103,137,83"/>
<area shape="rect" href="../../d5/db1/a00140.html#a6f807e9c25c22459cccbe4802fc0c9b0" title=" " alt="" coords="367,55,449,80"/>
<area shape="poly" title=" " alt="" coords="319,65,353,65,353,70,319,70"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_icgraph.png" border="0" usemap="#adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_icgraph" alt=""/></div>
<map name="adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_icgraph" id="adc/de3/a00373_ad80fbca34d4b78619142ac5e7a084ff7_icgraph">
<area shape="rect" title=" " alt="" coords="1013,42,1184,67"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,5,715,45"/>
<area shape="poly" title=" " alt="" coords="999,51,715,34,715,29,1000,46"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="763,63,965,103"/>
<area shape="poly" title=" " alt="" coords="1000,69,966,73,965,68,999,64"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,42,463,67"/>
<area shape="poly" title=" " alt="" coords="497,41,463,45,463,40,496,36"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,42,200,67"/>
<area shape="poly" title=" " alt="" coords="235,57,200,57,200,52,235,52"/>
<area shape="poly" title=" " alt="" coords="762,62,700,48,702,43,763,57"/>
<area shape="poly" title=" " alt="" coords="748,79,463,63,463,58,749,74"/>
</map>
</div>

</div>
</div>
<a id="a7a30fe32707679ca3612c51cf19698c3" name="a7a30fe32707679ca3612c51cf19698c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a30fe32707679ca3612c51cf19698c3">&#9670;&#160;</a></span>pcs2lab()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIccApplyBPC::pcs2lab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>pixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  116</span>{</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">switch</span> (pProfile-&gt;m_Header.pcs)</div>
<div class="line"><span class="lineno">  118</span>    {</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a0925d8599ecad36e7cc572c5ba1cd07f">icSigLabData</a>:</div>
<div class="line"><span class="lineno">  120</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#ac5de02865f572ea243f6da8c144c02fa">icLabFromPcs</a>(pixel);</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917a7030370eb0ee02671895978dc61858d8">icSigXYZData</a>:</div>
<div class="line"><span class="lineno">  124</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#a78841df2e0aea059520ce71944c4c3bb">icXyzFromPcs</a>(pixel);</div>
<div class="line"><span class="lineno">  125</span>        <a class="code hl_function" href="../../d7/dce/a00143.html#a4ff45349385af6c19d5b3f68150a27b5">icXYZtoLab</a>(pixel);</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span>    }</div>
<div class="line"><span class="lineno">  131</span>}</div>
<div class="ttc" id="aa00143_html_a78841df2e0aea059520ce71944c4c3bb"><div class="ttname"><a href="../../d7/dce/a00143.html#a78841df2e0aea059520ce71944c4c3bb">icXyzFromPcs</a></div><div class="ttdeci">ICCPROFLIB_API void icXyzFromPcs(icFloatNumber *XYZ)</div><div class="ttdoc">Here are some conversion routines to convert to regular XYZ encoding.</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:934</div></div>
<div class="ttc" id="aa00143_html_ac5de02865f572ea243f6da8c144c02fa"><div class="ttname"><a href="../../d7/dce/a00143.html#ac5de02865f572ea243f6da8c144c02fa">icLabFromPcs</a></div><div class="ttdeci">ICCPROFLIB_API void icLabFromPcs(icFloatNumber *Lab)</div><div class="ttdoc">Here are some conversion routines to convert to regular Lab encoding.</div><div class="ttdef"><b>Definition</b> IccUtil.cpp:919</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00919">icLabFromPcs()</a>, <a class="el" href="../../#l00847">icSigLabData</a>, <a class="el" href="../../#l00846">icSigXYZData</a>, <a class="el" href="../../#l00934">icXyzFromPcs()</a>, <a class="el" href="../../#l00846">icXYZtoLab()</a>, and <a class="el" href="../../#l02049">icHeader::pcs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00379">calcDstBlackPoint()</a>, and <a class="el" href="../../#l00290">calcSrcBlackPoint()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_cgraph.png" border="0" usemap="#adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_cgraph" alt=""/></div>
<map name="adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_cgraph" id="adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,176,80"/>
<area shape="rect" href="../../d5/db1/a00140.html#a7a615b1ddb9ba5e883983dae40bbbb73" title="Here are some conversion routines to convert to regular Lab encoding." alt="" coords="225,5,335,31"/>
<area shape="poly" title=" " alt="" coords="139,52,216,32,218,37,141,57"/>
<area shape="rect" href="../../d5/db1/a00140.html#a3cbef1cbb090376bd6bde159b0d62384" title="Here are some conversion routines to convert to regular XYZ encoding." alt="" coords="224,55,336,80"/>
<area shape="poly" title=" " alt="" coords="176,65,211,65,211,70,176,70"/>
<area shape="rect" href="../../d5/db1/a00140.html#aef9dd96318302c6f4f7ee703131b52dc" title=" " alt="" coords="233,104,327,129"/>
<area shape="poly" title=" " alt="" coords="141,77,220,98,218,104,139,83"/>
<area shape="rect" href="../../d5/db1/a00140.html#a26f2164439cde086fc6d77d110718154" title=" " alt="" coords="384,104,463,129"/>
<area shape="poly" title=" " alt="" coords="327,114,370,114,370,119,327,119"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_icgraph.png" border="0" usemap="#adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_icgraph" id="adc/de3/a00373_a7a30fe32707679ca3612c51cf19698c3_icgraph">
<area shape="rect" title=" " alt="" coords="1013,42,1184,67"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,5,715,45"/>
<area shape="poly" title=" " alt="" coords="999,51,715,34,715,29,1000,46"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="763,63,965,103"/>
<area shape="poly" title=" " alt="" coords="1000,69,966,73,965,68,999,64"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,42,463,67"/>
<area shape="poly" title=" " alt="" coords="497,41,463,45,463,40,496,36"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,42,200,67"/>
<area shape="poly" title=" " alt="" coords="235,57,200,57,200,52,235,52"/>
<area shape="poly" title=" " alt="" coords="762,62,700,48,702,43,763,57"/>
<area shape="poly" title=" " alt="" coords="748,79,463,63,463,58,749,74"/>
</map>
</div>

</div>
</div>
<a id="a76813b4f746bd1da4406dcdd7aef72ed" name="a76813b4f746bd1da4406dcdd7aef72ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76813b4f746bd1da4406dcdd7aef72ed">&#9670;&#160;</a></span>pixelXfm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIccApplyBPC::pixelXfm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>DstPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d81/a00110.html#a2879c29939ce675796753098691799b2">icFloatNumber</a> *&#160;</td>
          <td class="paramname"><em>SrcPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d46/a00002.html#a61e8bac86860cdefe93533feac126917">icColorSpaceSignature</a>&#160;</td>
          <td class="paramname"><em>SrcSpace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d46/a00002.html#ad596b62f264ef4846d435b494c8d2a77">icRenderingIntent</a>&#160;</td>
          <td class="paramname"><em>nIntent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a> *&#160;</td>
          <td class="paramname"><em>pProfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name: <a class="el" href="../../dc/de3/a00373.html#a76813b4f746bd1da4406dcdd7aef72ed">CIccApplyBPC::pixelXfm</a></p>
<p>Purpose: Applies the specified transform to the source pixel </p>
<div class="fragment"><div class="line"><span class="lineno">  544</span>{</div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">// create the cmm object</span></div>
<div class="line"><span class="lineno">  546</span>    CIccCmm cmm(SrcSpace, <a class="code hl_define" href="../../d7/d46/a00002.html#a80236e8e78fa1f2a6351cb0af0fed8da">icSigUnknownData</a>, !<a class="code hl_define" href="../../d1/dc1/a00092.html#af2bf8c7d947cb795089de5f391f91d4d">IsSpacePCS</a>(SrcSpace));</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">// first create a copy of the profile because the copy will be owned by the cmm</span></div>
<div class="line"><span class="lineno">  549</span>    <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>* pICC = <span class="keyword">new</span> <a class="code hl_variable" href="../../d4/d3a/a00101.html#a14e10b61df6e9ec7c90c5d3bc38c78d9">CIccProfile</a>(*pProfile);</div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordflow">if</span> (!pICC) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">// add the xform</span></div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">if</span> (cmm.AddXform(pICC, nIntent, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a39ef4ca48f4dbb239b4e3ac0e9e8e913aa14dd4addcb31947cb22d669495225e8">icInterpTetrahedral</a>, NULL, <a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#a1ba790142ac961bedde2898273414a7ba8219eb535838b8ca78eef40401ec9013">icXformLutColorimetric</a>, pICC-&gt;m_Header.version &gt;= <a class="code hl_define" href="../../d7/d46/a00002.html#a802c8f93248af9679280a8c10705807c">icVersionNumberV5</a> ? <span class="keyword">false</span> : <a class="code hl_define" href="../../d5/ddf/a00224.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  554</span>        <span class="keyword">delete</span> pICC;</div>
<div class="line"><span class="lineno">  555</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  556</span>    }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">// get the cmm ready to do transforms</span></div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">if</span> (cmm.Begin()!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  561</span>    }</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>    <span class="comment">// Apply the pixel</span></div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (cmm.Apply(DstPixel, SrcPixel)!=<a class="code hl_enumvalue" href="../../d6/d5b/a00026.html#aa6d3f671e7ece0df89814eabf3fae3f6ab27f5c900f71e3f5206d8ac47fada099">icCmmStatOk</a>) {</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  569</span>}</div>
<div class="ttc" id="aa00026_html_a1ba790142ac961bedde2898273414a7ba8219eb535838b8ca78eef40401ec9013"><div class="ttname"><a href="../../d6/d5b/a00026.html#a1ba790142ac961bedde2898273414a7ba8219eb535838b8ca78eef40401ec9013">icXformLutColorimetric</a></div><div class="ttdeci">@ icXformLutColorimetric</div><div class="ttdef"><b>Definition</b> IccCmm.h:135</div></div>
<div class="ttc" id="aa00092_html_af2bf8c7d947cb795089de5f391f91d4d"><div class="ttname"><a href="../../d1/dc1/a00092.html#af2bf8c7d947cb795089de5f391f91d4d">IsSpacePCS</a></div><div class="ttdeci">#define IsSpacePCS(x)</div><div class="ttdef"><b>Definition</b> IccApplyBPC.cpp:74</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00080">CIccProfile</a>, <a class="el" href="../../#l00092">icCmmStatOk</a>, <a class="el" href="../../#l00115">icInterpTetrahedral</a>, <a class="el" href="../../#l00135">icXformLutColorimetric</a>, and <a class="el" href="../../#l02046">icHeader::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00290">calcSrcBlackPoint()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/de3/a00373_a76813b4f746bd1da4406dcdd7aef72ed_icgraph.png" border="0" usemap="#adc/de3/a00373_a76813b4f746bd1da4406dcdd7aef72ed_icgraph" alt=""/></div>
<map name="adc/de3/a00373_a76813b4f746bd1da4406dcdd7aef72ed_icgraph" id="adc/de3/a00373_a76813b4f746bd1da4406dcdd7aef72ed_icgraph">
<area shape="rect" title=" " alt="" coords="1013,13,1192,38"/>
<area shape="rect" href="../../dc/de3/a00373.html#a66c83e198a8f80b7507b99304f091cb8" title=" " alt="" coords="763,5,965,45"/>
<area shape="poly" title=" " alt="" coords="999,28,965,28,965,23,999,23"/>
<area shape="rect" href="../../dc/de3/a00373.html#a99c6a4c883642b21117eac2d0683f1b9" title=" " alt="" coords="248,13,463,38"/>
<area shape="poly" title=" " alt="" coords="749,25,715,24,511,24,463,25,463,20,511,19,715,19,749,19"/>
<area shape="rect" href="../../dc/de3/a00373.html#a6fd921c5b7b19fab503ec1c655ba1f16" title=" " alt="" coords="511,33,715,73"/>
<area shape="poly" title=" " alt="" coords="749,41,715,45,714,39,749,35"/>
<area shape="rect" href="../../dc/de3/a00373.html#aba0ac42eacdd0babc152d826facea17f" title=" " alt="" coords="5,13,200,38"/>
<area shape="poly" title=" " alt="" coords="235,28,200,28,200,23,235,23"/>
<area shape="poly" title=" " alt="" coords="496,43,463,40,463,34,497,38"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>IccProfLib/<a class="el" href="../../">IccApplyBPC.h</a></li>
<li>IccProfLib/<a class="el" href="../../">IccApplyBPC.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/de3/a00373.html">CIccApplyBPC</a></li>
    <li class="footer">Generated on Wed Jul 30 2025 15:11:12 for iccDEV by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
